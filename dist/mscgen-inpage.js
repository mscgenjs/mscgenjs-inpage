!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){!function(){var t=[r(1),r(2),r(3),r(23),r(24),r(25),r(27),r(26)];(function(t,e,r,n,o,i,a,u){"use strict";function c(){s();var t=document.getElementsByClassName("mscgen_js");l(t,0),l(document.getElementsByTagName("mscgen"),t.length)}function s(){for(var t=document.scripts,e=0;e<t.length;e++)E[t[e].type]&&!t[e].hasAttribute("data-renderedby")&&(t[e].insertAdjacentHTML("afterend",u.applyTemplate(C,{src:t[e].src?u.applyTemplate(_,{src:t[e].src}):"",lang:E[t[e].type]||o.getConfig().defaultLanguage,msc:t[e].textContent.replace(/</g,"&lt;"),mirrorEntities:x(t[e])?"data-mirror-entities='true'":"",namedStyle:v(t[e])})),t[e].setAttribute("data-renderedby","mscgen_js"))}function l(t,e){for(var r=0;r<t.length;r++)f(t[r],e+r)}function f(t,e){t.hasAttribute("data-renderedby")||h(t,e)}function d(t,e){t.innerHTML=u.applyTemplate("<div style='color: #d00'>{string}</div>",{string:e})}function h(t,e){b(t,e),t.setAttribute("data-renderedby","mscgen_js"),o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?a.ajax(t.getAttribute("data-src"),function(e){p(t,e.target.response)},function(){d(t,u.applyTemplate(A,{url:t.getAttribute("data-src")}))}):!o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?d(t,u.applyTemplate(k,{url:t.getAttribute("data-src")})):p(t,t.textContent)}function p(t,e){var r=m(t),n=y(e,r);n.entities?w(n,t.id,e,r,x(t),v(t)):t.innerHTML=i.renderError(e,n.location,n.message)}function g(t,e,r){var i={pathname:"index.html"},a=document.createElement("a");return a.setAttribute("href",o.getConfig().clickURL+n.toLocationString(i,t,e)),a.setAttribute("id",r+"link"),a.setAttribute("style","text-decoration: none;"),a.setAttribute("title","click to edit in the mscgen_js interpreter"),a}function b(t,e){t.id||(t.id=o.getConfig().parentElementPrefix+e.toString())}function m(t){var e=t.getAttribute("data-language");return e||(e=o.getConfig().defaultLanguage),e}function x(t){var e=t.getAttribute("data-mirror-entities");return!(!e||"true"!==e)}function v(t){return t.getAttribute("data-named-style")}function y(r,n){var o={};try{o="msgenny"===n?e.parse(r):"json"===n?JSON.parse(r):t.parse(r)}catch(i){return i}return o}function w(t,e,n,i,a,u){var c=document.getElementById(e);c.innerHTML="",!0===o.getConfig().clickable&&(c.appendChild(g(n,i,e)),e+="link"),r.clean(e,window),r.renderASTNew(t,window,e,{source:n,additionalTemplate:u,mirrorEntitiesOnBottom:a})}var C="<span class='mscgen_js' {src} data-language='{lang}' data-named-style='{namedStyle}' {mirrorEntities}>{msc}<span>",_="data-src='{src}' ",A="ERROR: Could not find or open the URL '{url}' specified in the <code>data-src</code> attribute.",k="ERROR: Won't load the chart specified in <code>data-src='{url}'</code>, because loading from separate files is switched off in the mscgen_js configuration. <br><br>See <a href='https://sverweij.github.io/mscgen_js/embed.html#loading-from-separate-files'>Loading charts from separate files</a> in the mscgen_js embedding guide how to enable it.",E={"text/x-mscgen":"mscgen","text/x-msgenny":"msgenny","text/x-xu":"xu"};c()}).apply(null,t)}()},function(t,e,r){var n,o,i;!function(r,a){o=[],n=a,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,r,n,o){this.message=t,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function r(t,r){function n(){return f(ci,ui)}function o(t,e){throw e=void 0!==e?e:f(ci,ui),h(t,e)}function i(t,e){return{type:"literal",text:t,ignoreCase:e}}function a(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function u(){return{type:"any"}}function c(){return{type:"end"}}function s(t){return{type:"other",description:t}}function l(e){var r,n=si[e];if(n)return n;for(r=e-1;!si[r];)r--;for(n=si[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return si[e]=n,n}function f(t,e){var r=l(t),n=l(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function d(t){ui<li||(ui>li&&(li=ui,fi=[]),fi.push(t))}function h(t,r){return new e(t,null,null,r)}function p(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function g(){var e,r,n,o,i,a,u,c,s,l;return e=ui,r=et(),r!==Et?(n=b(),n!==Et?(o=et(),o!==Et?(123===t.charCodeAt(ui)?(i=It,ui++):(i=Et,0===di&&d(St)),i!==Et?(a=et(),a!==Et?(u=m(),u!==Et?(c=et(),c!==Et?(125===t.charCodeAt(ui)?(s=Dt,ui++):(s=Et,0===di&&d(jt)),s!==Et?(l=et(),l!==Et?(ci=e,r=Nt(r,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function b(){var e;return t.substr(ui,3).toLowerCase()===Bt?(e=t.substr(ui,3),ui+=3):(e=Et,0===di&&d(Ht)),e===Et&&(t.substr(ui,2).toLowerCase()===Ot?(e=t.substr(ui,2),ui+=2):(e=Et,0===di&&d(Ft))),e}function m(){var t,e,r,n;return t=ui,e=x(),e===Et&&(e=null),e!==Et?(r=y(),r===Et&&(r=null),r!==Et?(n=C(),n===Et&&(n=null),n!==Et?(ci=t,e=Wt(e,r,n),t=e):(ui=t,t=Et)):(ui=t,t=Et)):(ui=t,t=Et),t}function x(){var e,r,n,o,i,a;for(e=ui,r=ui,n=[],o=ui,i=v(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=zt(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);o!==Et;)n.push(o),o=ui,i=v(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=zt(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);return n!==Et?(o=ui,i=v(),i!==Et?(59===t.charCodeAt(ui)?(a=Gt,ui++):(a=Et,0===di&&d(Xt)),a!==Et?(ci=o,i=zt(i),o=i):(ui=o,o=Et)):(ui=o,o=Et),o!==Et?(n=[n,o],r=n):(ui=r,r=Et)):(ui=r,r=Et),r!==Et&&(ci=e,r=qt(r)),e=r}function v(){var e,r,n,o,i,a,u,c;return di++,e=ui,r=et(),r!==Et?(t.substr(ui,6).toLowerCase()===Pt?(n=t.substr(ui,6),ui+=6):(n=Et,0===di&&d(Vt)),n===Et&&(t.substr(ui,11).toLowerCase()===Kt?(n=t.substr(ui,11),ui+=11):(n=Et,0===di&&d($t))),n!==Et?(o=et(),o!==Et?(61===t.charCodeAt(ui)?(i=Zt,ui++):(i=Et,0===di&&d(Yt)),i!==Et?(a=et(),a!==Et?(u=rt(),u!==Et?(c=et(),c!==Et?(ci=e,r=Jt(n,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(t.substr(ui,5).toLowerCase()===Qt?(n=t.substr(ui,5),ui+=5):(n=Et,0===di&&d(te)),n!==Et?(o=et(),o!==Et?(61===t.charCodeAt(ui)?(i=Zt,ui++):(i=Et,0===di&&d(Yt)),i!==Et?(a=et(),a!==Et?(u=lt(),u!==Et?(c=et(),c!==Et?(ci=e,r=Jt(n,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(t.substr(ui,12).toLowerCase()===ee?(n=t.substr(ui,12),ui+=12):(n=Et,0===di&&d(re)),n!==Et?(o=et(),o!==Et?(61===t.charCodeAt(ui)?(i=Zt,ui++):(i=Et,0===di&&d(Yt)),i!==Et?(a=et(),a!==Et?(u=ut(),u!==Et?(c=et(),c!==Et?(ci=e,r=ne(n,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(t.substr(ui,9).toLowerCase()===oe?(n=t.substr(ui,9),ui+=9):(n=Et,0===di&&d(ie)),n!==Et?(o=et(),o!==Et?(61===t.charCodeAt(ui)?(i=Zt,ui++):(i=Et,0===di&&d(Yt)),i!==Et?(a=et(),a!==Et?(u=z(),u!==Et?(c=et(),c!==Et?(ci=e,r=Jt(n,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)))),di--,e===Et&&(r=Et,0===di&&d(Ut)),e}function y(){var e,r,n,o,i,a;for(e=ui,r=ui,n=[],o=ui,i=w(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=ae(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);o!==Et;)n.push(o),o=ui,i=w(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=ae(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);return n!==Et?(o=ui,i=w(),i!==Et?(59===t.charCodeAt(ui)?(a=Gt,ui++):(a=Et,0===di&&d(Xt)),a!==Et?(ci=o,i=ae(i),o=i):(ui=o,o=Et)):(ui=o,o=Et),o!==Et?(n=[n,o],r=n):(ui=r,r=Et)):(ui=r,r=Et),r!==Et&&(ci=e,r=ue(r)),e=r}function w(){var e,r,n,o,i,a,u,c;return di++,e=ui,r=et(),r!==Et?(n=z(),n!==Et?(o=et(),o!==Et?(i=ui,91===t.charCodeAt(ui)?(a=se,ui++):(a=Et,0===di&&d(le)),a!==Et?(u=W(),u!==Et?(93===t.charCodeAt(ui)?(c=fe,ui++):(c=Et,0===di&&d(de)),c!==Et?(ci=i,a=he(n,u),i=a):(ui=i,i=Et)):(ui=i,i=Et)):(ui=i,i=Et),i===Et&&(i=null),i!==Et?(a=et(),a!==Et?(ci=e,r=pe(n,i),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(n=q(),n!==Et?(o=et(),o!==Et?(i=ui,91===t.charCodeAt(ui)?(a=se,ui++):(a=Et,0===di&&d(le)),a!==Et?(u=W(),u!==Et?(93===t.charCodeAt(ui)?(c=fe,ui++):(c=Et,0===di&&d(de)),c!==Et?(ci=i,a=he(n,u),i=a):(ui=i,i=Et)):(ui=i,i=Et)):(ui=i,i=Et),i===Et&&(i=null),i!==Et?(a=et(),a!==Et?(ci=e,r=ge(n,i),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)),di--,e===Et&&(r=Et,0===di&&d(ce)),e}function C(){var e,r,n,o,i;if(e=[],r=ui,n=_(),n!==Et?(o=et(),o!==Et?(59===t.charCodeAt(ui)?(i=Gt,ui++):(i=Et,0===di&&d(Xt)),i!==Et?(ci=r,n=be(n),r=n):(ui=r,r=Et)):(ui=r,r=Et)):(ui=r,r=Et),r!==Et)for(;r!==Et;)e.push(r),r=ui,n=_(),n!==Et?(o=et(),o!==Et?(59===t.charCodeAt(ui)?(i=Gt,ui++):(i=Et,0===di&&d(Xt)),i!==Et?(ci=r,n=be(n),r=n):(ui=r,r=Et)):(ui=r,r=Et)):(ui=r,r=Et);else e=Et;return e}function _(){var e,r,n,o,i,a,u;for(e=ui,r=ui,n=[],o=ui,i=A(),i!==Et?(a=et(),a!==Et?(44===t.charCodeAt(ui)?(u=Mt,ui++):(u=Et,0===di&&d(Rt)),u!==Et?(ci=o,i=be(i),o=i):(ui=o,o=Et)):(ui=o,o=Et)):(ui=o,o=Et);o!==Et;)n.push(o),o=ui,i=A(),i!==Et?(a=et(),a!==Et?(44===t.charCodeAt(ui)?(u=Mt,ui++):(u=Et,0===di&&d(Rt)),u!==Et?(ci=o,i=be(i),o=i):(ui=o,o=Et)):(ui=o,o=Et)):(ui=o,o=Et);return n!==Et?(o=ui,i=A(),i!==Et&&(ci=o,i=be(i)),o=i,o!==Et?(n=[n,o],r=n):(ui=r,r=Et)):(ui=r,r=Et),r!==Et&&(ci=e,r=me(r)),e=r}function A(){var t;return t=k(),t===Et&&(t=I()),t}function k(){var e,r,n,o,i,a;return e=ui,r=ui,n=E(),n!==Et&&(ci=r,n=be(n)),r=n,r===Et&&(r=ui,n=T(),n!==Et&&(ci=r,n=be(n)),r=n,r===Et&&(r=ui,n=L(),n!==Et&&(ci=r,n=be(n)),r=n)),r!==Et?(n=ui,91===t.charCodeAt(ui)?(o=se,ui++):(o=Et,0===di&&d(le)),o!==Et?(i=W(),i!==Et?(93===t.charCodeAt(ui)?(a=fe,ui++):(a=Et,0===di&&d(de)),a!==Et?(ci=n,o=xe(r,i),n=o):(ui=n,n=Et)):(ui=n,n=Et)):(ui=n,n=Et),n===Et&&(n=null),n!==Et?(ci=e,r=ve(r,n),e=r):(ui=e,e=Et)):(ui=e,e=Et),e}function E(){var t,e,r,n;return t=ui,e=et(),e!==Et?(r=S(),r!==Et?(n=et(),n!==Et?(ci=t,e=ye(r),t=e):(ui=t,t=Et)):(ui=t,t=Et)):(ui=t,t=Et),t}function L(){var t,e,r,n;return t=ui,e=et(),e!==Et?(r=D(),r!==Et?(n=et(),n!==Et?(ci=t,e=ye(r),t=e):(ui=t,t=Et)):(ui=t,t=Et)):(ui=t,t=Et),t}function T(){var e,r,n,o,i,a,u,c;return e=ui,r=et(),r!==Et?(n=X(),n!==Et?(o=et(),o!==Et?(i=j(),i!==Et?(a=et(),a!==Et?(u=X(),u!==Et?(c=et(),c!==Et?(ci=e,r=we(n,i,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(42===t.charCodeAt(ui)?(n=Ce,ui++):(n=Et,0===di&&d(_e)),n!==Et?(o=et(),o!==Et?(i=H(),i!==Et?(a=et(),a!==Et?(u=X(),u!==Et?(c=et(),c!==Et?(ci=e,r=Ae(i,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(n=X(),n!==Et?(o=et(),o!==Et?(i=B(),i!==Et?(a=et(),a!==Et?(42===t.charCodeAt(ui)?(u=Ce,ui++):(u=Et,0===di&&d(_e)),u!==Et?(c=et(),c!==Et?(ci=e,r=ke(n,i),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e===Et&&(e=ui,r=et(),r!==Et?(n=X(),n!==Et?(o=et(),o!==Et?(i=N(),i!==Et?(a=et(),a!==Et?(42===t.charCodeAt(ui)?(u=Ce,ui++):(u=Et,0===di&&d(_e)),u!==Et?(c=et(),c!==Et?(ci=e,r=ke(n,i),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)))),e}function I(){var e,r,n,o,i,a,u,c,s,l,f,h,p,g,b,m;return e=ui,r=et(),r!==Et?(n=X(),n!==Et?(o=et(),o!==Et?(i=F(),i!==Et?(a=et(),a!==Et?(u=X(),u!==Et?(c=et(),c!==Et?(s=ui,91===t.charCodeAt(ui)?(l=se,ui++):(l=Et,0===di&&d(le)),l!==Et?(f=W(),f!==Et?(93===t.charCodeAt(ui)?(h=fe,ui++):(h=Et,0===di&&d(de)),h!==Et?(ci=s,l=Ee(n,i,u,f),s=l):(ui=s,s=Et)):(ui=s,s=Et)):(ui=s,s=Et),s===Et&&(s=null),s!==Et?(l=et(),l!==Et?(123===t.charCodeAt(ui)?(f=It,ui++):(f=Et,0===di&&d(St)),f!==Et?(h=et(),h!==Et?(p=C(),p===Et&&(p=null),p!==Et?(g=et(),g!==Et?(125===t.charCodeAt(ui)?(b=Dt,ui++):(b=Et,0===di&&d(jt)),b!==Et?(m=et(),m!==Et?(ci=e,r=Le(n,i,u,s,p),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function S(){var e,r;return di++,t.substr(ui,3)===Ie?(e=Ie,ui+=3):(e=Et,0===di&&d(Se)),e===Et&&(t.substr(ui,3)===De?(e=De,ui+=3):(e=Et,0===di&&d(je))),di--,e===Et&&(r=Et,0===di&&d(Te)),e}function D(){var e,r;return di++,t.substr(ui,3)===Be?(e=Be,ui+=3):(e=Et,0===di&&d(He)),di--,e===Et&&(r=Et,0===di&&d(Ne)),e}function j(){var t,e;return t=ui,e=N(),e===Et&&(e=B(),e===Et&&(e=H(),e===Et&&(e=O()))),e!==Et&&(ci=t,e=Oe(e)),t=e}function N(){var e,r;return di++,t.substr(ui,2)===We?(e=We,ui+=2):(e=Et,0===di&&d(Me)),e===Et&&(t.substr(ui,3)===Re?(e=Re,ui+=3):(e=Et,0===di&&d(ze)),e===Et&&(t.substr(ui,2)===Ge?(e=Ge,ui+=2):(e=Et,0===di&&d(Xe)),e===Et&&(t.substr(ui,5)===qe?(e=qe,ui+=5):(e=Et,0===di&&d(Ue)),e===Et&&(t.substr(ui,3)===Pe?(e=Pe,ui+=3):(e=Et,0===di&&d(Ve)),e===Et&&(t.substr(ui,2)===Ke?(e=Ke,ui+=2):(e=Et,0===di&&d($e)),e===Et&&(t.substr(ui,4)===Ze?(e=Ze,ui+=4):(e=Et,0===di&&d(Ye)),e===Et&&(t.substr(ui,2)===Je?(e=Je,ui+=2):(e=Et,0===di&&d(Qe)),e===Et&&(t.substr(ui,3)===tr?(e=tr,ui+=3):(e=Et,0===di&&d(er)))))))))),di--,e===Et&&(r=Et,0===di&&d(Fe)),e}function B(){var e,r;return di++,t.substr(ui,2)===nr?(e=nr,ui+=2):(e=Et,0===di&&d(or)),e===Et&&(t.substr(ui,3)===ir?(e=ir,ui+=3):(e=Et,0===di&&d(ar)),e===Et&&(t.substr(ui,2)===ur?(e=ur,ui+=2):(e=Et,0===di&&d(cr)),e===Et&&(t.substr(ui,2)===sr?(e=sr,ui+=2):(e=Et,0===di&&d(lr)),e===Et&&(t.substr(ui,2)===fr?(e=fr,ui+=2):(e=Et,0===di&&d(dr)),e===Et&&(t.substr(ui,2).toLowerCase()===hr?(e=t.substr(ui,2),ui+=2):(e=Et,0===di&&d(pr))))))),di--,e===Et&&(r=Et,0===di&&d(rr)),e}function H(){var e,r;return di++,t.substr(ui,2)===br?(e=br,ui+=2):(e=Et,0===di&&d(mr)),e===Et&&(t.substr(ui,3)===xr?(e=xr,ui+=3):(e=Et,0===di&&d(vr)),e===Et&&(t.substr(ui,2)===yr?(e=yr,ui+=2):(e=Et,0===di&&d(wr)),e===Et&&(t.substr(ui,2)===Cr?(e=Cr,ui+=2):(e=Et,0===di&&d(_r)),e===Et&&(t.substr(ui,2)===Ar?(e=Ar,ui+=2):(e=Et,0===di&&d(kr)),e===Et&&(t.substr(ui,2).toLowerCase()===Er?(e=t.substr(ui,2),ui+=2):(e=Et,0===di&&d(Lr))))))),di--,e===Et&&(r=Et,0===di&&d(gr)),e}function O(){var e,r;return di++,t.substr(ui,4).toLowerCase()===Ir?(e=t.substr(ui,4),ui+=4):(e=Et,0===di&&d(Sr)),e===Et&&(t.substr(ui,4).toLowerCase()===Dr?(e=t.substr(ui,4),ui+=4):(e=Et,0===di&&d(jr)),e===Et&&(t.substr(ui,4).toLowerCase()===Nr?(e=t.substr(ui,4),ui+=4):(e=Et,0===di&&d(Br)),e===Et&&(t.substr(ui,3).toLowerCase()===Hr?(e=t.substr(ui,3),ui+=3):(e=Et,0===di&&d(Or))))),di--,e===Et&&(r=Et,0===di&&d(Tr)),e}function F(){var e,r;return di++,e=ui,t.substr(ui,3).toLowerCase()===Wr?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(Mr)),r===Et&&(t.substr(ui,4).toLowerCase()===Rr?(r=t.substr(ui,4),ui+=4):(r=Et,0===di&&d(zr)),r===Et&&(t.substr(ui,3).toLowerCase()===Gr?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(Xr)),r===Et&&(t.substr(ui,5).toLowerCase()===qr?(r=t.substr(ui,5),ui+=5):(r=Et,0===di&&d(Ur)),r===Et&&(t.substr(ui,3).toLowerCase()===Pr?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(Vr)),r===Et&&(t.substr(ui,3).toLowerCase()===Kr?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d($r)),r===Et&&(t.substr(ui,6).toLowerCase()===Zr?(r=t.substr(ui,6),ui+=6):(r=Et,0===di&&d(Yr)),r===Et&&(t.substr(ui,3).toLowerCase()===Jr?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(Qr)),r===Et&&(t.substr(ui,8).toLowerCase()===tn?(r=t.substr(ui,8),ui+=8):(r=Et,0===di&&d(en)),r===Et&&(t.substr(ui,6).toLowerCase()===rn?(r=t.substr(ui,6),ui+=6):(r=Et,0===di&&d(nn)),r===Et&&(t.substr(ui,8).toLowerCase()===on?(r=t.substr(ui,8),ui+=8):(r=Et,0===di&&d(an)),r===Et&&(t.substr(ui,6).toLowerCase()===un?(r=t.substr(ui,6),ui+=6):(r=Et,0===di&&d(cn)),r===Et&&(t.substr(ui,4).toLowerCase()===sn?(r=t.substr(ui,4),ui+=4):(r=Et,0===di&&d(ln)),r===Et&&(t.substr(ui,3).toLowerCase()===fn?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(dn)),r===Et&&(t.substr(ui,3).toLowerCase()===hn?(r=t.substr(ui,3),ui+=3):(r=Et,0===di&&d(pn)))))))))))))))),r!==Et&&(ci=e,r=gn(r)),e=r,di--,e===Et&&(r=Et,0===di&&d(Fr)),e}function W(){var e,r,n,o,i,a;for(e=ui,r=ui,n=[],o=ui,i=M(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=be(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);o!==Et;)n.push(o),o=ui,i=M(),i!==Et?(44===t.charCodeAt(ui)?(a=Mt,ui++):(a=Et,0===di&&d(Rt)),a!==Et?(ci=o,i=be(i),o=i):(ui=o,o=Et)):(ui=o,o=Et);return n!==Et?(o=ui,i=M(),i!==Et&&(ci=o,i=be(i)),o=i,o!==Et?(n=[n,o],r=n):(ui=r,r=Et)):(ui=r,r=Et),r!==Et&&(ci=e,r=bn(r)),e=r}function M(){var e,r,n,o,i,a,u,c;return e=ui,r=et(),r!==Et?(n=R(),n!==Et?(o=et(),o!==Et?(61===t.charCodeAt(ui)?(i=Zt,ui++):(i=Et,0===di&&d(Yt)),i!==Et?(a=et(),a!==Et?(u=X(),u!==Et?(c=et(),c!==Et?(ci=e,r=mn(n,u),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function R(){var e,r;return di++,t.substr(ui,5).toLowerCase()===vn?(e=t.substr(ui,5),ui+=5):(e=Et,0===di&&d(yn)),e===Et&&(t.substr(ui,5).toLowerCase()===wn?(e=t.substr(ui,5),ui+=5):(e=Et,0===di&&d(Cn)),e===Et&&(t.substr(ui,2).toLowerCase()===_n?(e=t.substr(ui,2),ui+=2):(e=Et,0===di&&d(An)),e===Et&&(t.substr(ui,3).toLowerCase()===kn?(e=t.substr(ui,3),ui+=3):(e=Et,0===di&&d(En)),e===Et&&(t.substr(ui,9).toLowerCase()===Ln?(e=t.substr(ui,9),ui+=9):(e=Et,0===di&&d(Tn)),e===Et&&(t.substr(ui,10).toLowerCase()===In?(e=t.substr(ui,10),ui+=10):(e=Et,0===di&&d(Sn)),e===Et&&(t.substr(ui,9).toLowerCase()===Dn?(e=t.substr(ui,9),ui+=9):(e=Et,0===di&&d(jn)),e===Et&&(t.substr(ui,10).toLowerCase()===Nn?(e=t.substr(ui,10),ui+=10):(e=Et,0===di&&d(Bn)),e===Et&&(t.substr(ui,11).toLowerCase()===Hn?(e=t.substr(ui,11),ui+=11):(e=Et,0===di&&d(On)),e===Et&&(t.substr(ui,12).toLowerCase()===Fn?(e=t.substr(ui,12),ui+=12):(e=Et,0===di&&d(Wn)),e===Et&&(t.substr(ui,12).toLowerCase()===Mn?(e=t.substr(ui,12),ui+=12):(e=Et,0===di&&d(Rn)),e===Et&&(t.substr(ui,13).toLowerCase()===zn?(e=t.substr(ui,13),ui+=13):(e=Et,0===di&&d(Gn)),e===Et&&(t.substr(ui,12).toLowerCase()===Xn?(e=t.substr(ui,12),ui+=12):(e=Et,0===di&&d(qn)),e===Et&&(t.substr(ui,13).toLowerCase()===Un?(e=t.substr(ui,13),ui+=13):(e=Et,0===di&&d(Pn)),e===Et&&(t.substr(ui,14).toLowerCase()===Vn?(e=t.substr(ui,14),ui+=14):(e=Et,0===di&&d(Kn)),e===Et&&(t.substr(ui,15).toLowerCase()===$n?(e=t.substr(ui,15),ui+=15):(e=Et,0===di&&d(Zn)),e===Et&&(t.substr(ui,7).toLowerCase()===Yn?(e=t.substr(ui,7),ui+=7):(e=Et,0===di&&d(Jn)))))))))))))))))),di--,e===Et&&(r=Et,0===di&&d(xn)),e}function z(){var e,r,n,o;return di++,e=ui,34===t.charCodeAt(ui)?(r=to,ui++):(r=Et,0===di&&d(eo)),r!==Et?(n=G(),n!==Et?(34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),o!==Et?(ci=e,r=ro(n),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),di--,e===Et&&(r=Et,0===di&&d(Qn)),e}function G(){var e,r,n,o;for(e=[],r=ui,n=ui,di++,34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),di--,o===Et?n=void 0:(ui=n,n=Et),n!==Et?(t.substr(ui,2)===no?(o=no,ui+=2):(o=Et,0===di&&d(oo)),o===Et&&(t.length>ui?(o=t.charAt(ui),ui++):(o=Et,0===di&&d(io))),o!==Et?(ci=r,n=ao(o),r=n):(ui=r,r=Et)):(ui=r,r=Et);r!==Et;)e.push(r),r=ui,n=ui,di++,34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),di--,o===Et?n=void 0:(ui=n,n=Et),n!==Et?(t.substr(ui,2)===no?(o=no,ui+=2):(o=Et,0===di&&d(oo)),o===Et&&(t.length>ui?(o=t.charAt(ui),ui++):(o=Et,0===di&&d(io))),o!==Et?(ci=r,n=ao(o),r=n):(ui=r,r=Et)):(ui=r,r=Et);return e}function X(){var t,e;return di++,t=q(),t===Et&&(t=z()),di--,t===Et&&(e=Et,0===di&&d(uo)),t}function q(){var e,r,n;if(e=ui,r=[],co.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=Et,0===di&&d(so)),n!==Et)for(;n!==Et;)r.push(n),co.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=Et,0===di&&d(so));else r=Et;return r!==Et&&(ci=e,r=lo(r)),e=r}function U(){var e,r;return di++,e=ui,ho.test(t.charAt(ui))?(r=t.charAt(ui),ui++):(r=Et,0===di&&d(po)),r!==Et&&(ci=e,r=ao(r)),e=r,di--,e===Et&&(r=Et,0===di&&d(fo)),e}function P(){var e,r;return di++,e=ui,bo.test(t.charAt(ui))?(r=t.charAt(ui),ui++):(r=Et,0===di&&d(mo)),r!==Et&&(ci=e,r=ao(r)),e=r,di--,e===Et&&(r=Et,0===di&&d(go)),e}function V(){var e;return t.substr(ui,2)===xo?(e=xo,ui+=2):(e=Et,0===di&&d(vo)),e}function K(){var e;return t.substr(ui,2)===yo?(e=yo,ui+=2):(e=Et,0===di&&d(wo)),e}function $(){var e,r,n;return e=ui,r=ui,di++,t.substr(ui,2)===yo?(n=yo,ui+=2):(n=Et,0===di&&d(wo)),di--,n===Et?r=void 0:(ui=r,r=Et),r!==Et?(t.length>ui?(n=t.charAt(ui),ui++):(n=Et,0===di&&d(io)),n!==Et?(ci=e,r=ao(n),e=r):(ui=e,e=Et)):(ui=e,e=Et),e}function Z(){var t,e,r,n;if(t=ui,e=V(),e!==Et){for(r=[],n=$();n!==Et;)r.push(n),n=$();r!==Et?(n=K(),n!==Et?(ci=t,e=Co(e,r,n),t=e):(ui=t,t=Et)):(ui=t,t=Et)}else ui=t,t=Et;return t}function Y(){var e;return t.substr(ui,2)===_o?(e=_o,ui+=2):(e=Et,0===di&&d(Ao)),e===Et&&(35===t.charCodeAt(ui)?(e=ko,ui++):(e=Et,0===di&&d(Eo))),e}function J(){var e;return Lo.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=Et,0===di&&d(To)),e}function Q(){var t,e,r,n;if(t=ui,e=Y(),e!==Et){for(r=[],n=J();n!==Et;)r.push(n),n=J();r!==Et?(ci=t,e=Io(e,r),t=e):(ui=t,t=Et)}else ui=t,t=Et;return t}function tt(){var t,e;return di++,t=Q(),t===Et&&(t=Z()),di--,t===Et&&(e=Et,0===di&&d(So)),t}function et(){var t,e;for(t=[],e=U(),e===Et&&(e=P(),e===Et&&(e=tt()));e!==Et;)t.push(e),e=U(),e===Et&&(e=P(),e===Et&&(e=tt()));return t}function rt(){var t,e;return di++,t=ui,e=nt(),e!==Et&&(ci=t,e=jo(e)),t=e,t===Et&&(t=ui,e=ot(),e!==Et&&(ci=t,e=No(e)),t=e),di--,t===Et&&(e=Et,0===di&&d(Do)),t}function nt(){var e,r,n,o;return e=ui,34===t.charCodeAt(ui)?(r=to,ui++):(r=Et,0===di&&d(eo)),r!==Et?(n=ot(),n!==Et?(34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),o!==Et?(ci=e,r=Bo(n),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function ot(){var t;return t=at(),t===Et&&(t=it()),t}function it(){var e,r,n;if(e=ui,r=[],Ho.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=Et,0===di&&d(Oo)),n!==Et)for(;n!==Et;)r.push(n),Ho.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=Et,0===di&&d(Oo));else r=Et;return r!==Et&&(ci=e,r=Fo(r)),e=r}function at(){var e,r,n,o,i;return e=ui,r=ui,n=it(),n!==Et?(46===t.charCodeAt(ui)?(o=Wo,ui++):(o=Et,0===di&&d(Mo)),o!==Et?(i=it(),i!==Et?(n=[n,o,i],r=n):(ui=r,r=Et)):(ui=r,r=Et)):(ui=r,r=Et),r!==Et&&(ci=e,r=Ro(r)),e=r}function ut(){var t,e;return di++,t=ui,e=ct(),e!==Et&&(ci=t,e=Go(e)),t=e,t===Et&&(t=ui,e=st(),e!==Et&&(ci=t,e=Xo(e)),t=e),di--,t===Et&&(e=Et,0===di&&d(zo)),t}function ct(){var e,r,n,o;return e=ui,34===t.charCodeAt(ui)?(r=to,ui++):(r=Et,0===di&&d(eo)),r!==Et?(n=st(),n!==Et?(34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),o!==Et?(ci=e,r=jo(n),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function st(){var e;return t.substr(ui,4).toLowerCase()===qo?(e=t.substr(ui,4),ui+=4):(e=Et,0===di&&d(Uo)),e===Et&&(t.substr(ui,5).toLowerCase()===Po?(e=t.substr(ui,5),ui+=5):(e=Et,0===di&&d(Vo)),e===Et&&(t.substr(ui,2).toLowerCase()===Ko?(e=t.substr(ui,2),ui+=2):(e=Et,0===di&&d($o)),e===Et&&(t.substr(ui,3).toLowerCase()===Zo?(e=t.substr(ui,3),ui+=3):(e=Et,0===di&&d(Yo)),e===Et&&(48===t.charCodeAt(ui)?(e=Jo,ui++):(e=Et,0===di&&d(Qo)),e===Et&&(49===t.charCodeAt(ui)?(e=ti,ui++):(e=Et,0===di&&d(ei))))))),e}function lt(){var t,e;return di++,t=ft(),t===Et&&(t=dt()),di--,t===Et&&(e=Et,0===di&&d(ri)),t}function ft(){var e,r,n,o;return e=ui,34===t.charCodeAt(ui)?(r=to,ui++):(r=Et,0===di&&d(eo)),r!==Et?(n=dt(),n!==Et?(34===t.charCodeAt(ui)?(o=to,ui++):(o=Et,0===di&&d(eo)),o!==Et?(ci=e,r=jo(n),e=r):(ui=e,e=Et)):(ui=e,e=Et)):(ui=e,e=Et),e}function dt(){var e,r;return e=ui,r=ot(),r!==Et&&(ci=e,r=ni(r)),e=r,e===Et&&(e=ui,t.substr(ui,4).toLowerCase()===oi?(r=t.substr(ui,4),ui+=4):(r=Et,0===di&&d(ii)),r!==Et&&(ci=e,r=ai(r)),e=r),e}function ht(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function pt(t){var e={};return t.forEach(function(t){e=ht(e,t)}),e}function gt(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function bt(t,e){var r={};return r[t.toLowerCase()]=e,r}function mt(t,e){return void 0===e||"*"===e||t.some(function(t){return t.name===e})}function xt(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].indexOf(t)>-1}function vt(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}function yt(t,e){this.name="EntityNotDefinedError",this.message=vt(t,e),e.location&&(this.location=e.location,this.location.start.line++,this.location.end.line++)}function wt(t,e){return t||(t=[]),e&&e.forEach(function(e){e.forEach(function(e){if(e.from&&!mt(t,e.from))throw new yt(e.from,e);if(e.to&&!mt(t,e.to))throw new yt(e.to,e);e.location&&delete e.location,e.arcs&&wt(t,e.arcs)})}),t}function Ct(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function _t(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function At(t,e){var r=Ct(t),n=_t(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var kt,Et={},Lt={program:g},Tt=g,It="{",St=i("{",!1),Dt="}",jt=i("}",!1),Nt=function(t,e){e.entities=wt(e.entities,e.arcs);var r=e;return r=ht({meta:At(e.options,e.arcs)},r),t.length>0&&(r=ht({precomment:t},r)),r},Bt="msc",Ht=i("msc",!0),Ot="xu",Ft=i("xu",!0),Wt=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},Mt=",",Rt=i(",",!1),zt=function(t){return t},Gt=";",Xt=i(";",!1),qt=function(t){return pt(t[0].concat(t[1]))},Ut=s("option"),Pt="hscale",Vt=i("hscale",!0),Kt="arcgradient",$t=i("arcgradient",!0),Zt="=",Yt=i("=",!1),Jt=function(t,e){return bt(t,e)},Qt="width",te=i("width",!0),ee="wordwraparcs",re=i("wordwraparcs",!0),ne=function(t,e){return bt(t,gt(e))},oe="watermark",ie=i("watermark",!0),ae=function(t){return t},ue=function(t){return t[0].concat(t[1])},ce=s("entity"),se="[",le=i("[",!1),fe="]",de=i("]",!1),he=function(t,e){return e},pe=function(t,e){return ht({name:t},e)},ge=function(t,e){return xt(t)&&o("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),ht({name:t},e)},be=function(t){return t},me=function(t){return t[0].concat(t[1])},xe=function(t,e){return e},ve=function(t,e){return ht(t,e)},ye=function(t){return{kind:t}},we=function(t,e,r){return{kind:e,from:t,to:r,location:n()}},Ce="*",_e=i("*",!1),Ae=function(t,e){return{kind:t,from:"*",to:e,location:n()}},ke=function(t,e){return{kind:e,from:t,to:"*",location:n()}},Ee=function(t,e,r,n){return n},Le=function(t,e,r,o,i){return ht({kind:e,from:t,to:r,location:n(),arcs:i},o)},Te=s("empty row"),Ie="|||",Se=i("|||",!1),De="...",je=i("...",!1),Ne=s("---"),Be="---",He=i("---",!1),Oe=function(t){return t.toLowerCase()},Fe=s("bi-directional arrow"),We="--",Me=i("--",!1),Re="<->",ze=i("<->",!1),Ge="==",Xe=i("==",!1),qe="<<=>>",Ue=i("<<=>>",!1),Pe="<=>",Ve=i("<=>",!1),Ke="..",$e=i("..",!1),Ze="<<>>",Ye=i("<<>>",!1),Je="::",Qe=i("::",!1),tr="<:>",er=i("<:>",!1),rr=s("left to right arrow"),nr="->",or=i("->",!1),ir="=>>",ar=i("=>>",!1),ur="=>",cr=i("=>",!1),sr=">>",lr=i(">>",!1),fr=":>",dr=i(":>",!1),hr="-x",pr=i("-x",!0),gr=s("right to left arrow"),br="<-",mr=i("<-",!1),xr="<<=",vr=i("<<=",!1),yr="<=",wr=i("<=",!1),Cr="<<",_r=i("<<",!1),Ar="<:",kr=i("<:",!1),Er="x-",Lr=i("x-",!0),Tr=s("box"),Ir="note",Sr=i("note",!0),Dr="abox",jr=i("abox",!0),Nr="rbox",Br=i("rbox",!0),Hr="box",Or=i("box",!0),Fr=s("inline expression"),Wr="alt",Mr=i("alt",!0),Rr="else",zr=i("else",!0),Gr="opt",Xr=i("opt",!0),qr="break",Ur=i("break",!0),Pr="par",Vr=i("par",!0),Kr="seq",$r=i("seq",!0),Zr="strict",Yr=i("strict",!0),Jr="neg",Qr=i("neg",!0),tn="critical",en=i("critical",!0),rn="ignore",nn=i("ignore",!0),on="consider",an=i("consider",!0),un="assert",cn=i("assert",!0),sn="loop",ln=i("loop",!0),fn="ref",dn=i("ref",!0),hn="exc",pn=i("exc",!0),gn=function(t){return t.toLowerCase()},bn=function(t){return pt(t[0].concat(t[1]))},mn=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},xn=s("attribute name"),vn="label",yn=i("label",!0),wn="idurl",Cn=i("idurl",!0),_n="id",An=i("id",!0),kn="url",En=i("url",!0),Ln="linecolor",Tn=i("linecolor",!0),In="linecolour",Sn=i("linecolour",!0),Dn="textcolor",jn=i("textcolor",!0),Nn="textcolour",Bn=i("textcolour",!0),Hn="textbgcolor",On=i("textbgcolor",!0),Fn="textbgcolour",Wn=i("textbgcolour",!0),Mn="arclinecolor",Rn=i("arclinecolor",!0),zn="arclinecolour",Gn=i("arclinecolour",!0),Xn="arctextcolor",qn=i("arctextcolor",!0),Un="arctextcolour",Pn=i("arctextcolour",!0),Vn="arctextbgcolor",Kn=i("arctextbgcolor",!0),$n="arctextbgcolour",Zn=i("arctextbgcolour",!0),Yn="arcskip",Jn=i("arcskip",!0),Qn=s("double quoted string"),to='"',eo=i('"',!1),ro=function(t){return t.join("")},no='\\"',oo=i('\\"',!1),io=u(),ao=function(t){return t},uo=s("identifier"),co=/^[A-Za-z_0-9]/,so=a([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),lo=function(t){return t.join("")},fo=s("whitespace"),ho=/^[ \t]/,po=a([" ","\t"],!1,!1),go=s("lineend"),bo=/^[\r\n]/,mo=a(["\r","\n"],!1,!1),xo="/*",vo=i("/*",!1),yo="*/",wo=i("*/",!1),Co=function(t,e,r){return t+e.join("")+r},_o="//",Ao=i("//",!1),ko="#",Eo=i("#",!1),Lo=/^[^\r\n]/,To=a(["\r","\n"],!0,!1),Io=function(t,e){return t+e.join("")},So=s("comment"),Do=s("number"),jo=function(t){return t},No=function(t){return t.toString()},Bo=function(t){return t.toString()},Ho=/^[0-9]/,Oo=a([["0","9"]],!1,!1),Fo=function(t){return parseInt(t.join(""),10)},Wo=".",Mo=i(".",!1),Ro=function(t){return parseFloat(t.join(""))},zo=s("boolean"),Go=function(t){return t},Xo=function(t){return t.toString()},qo="true",Uo=i("true",!0),Po="false",Vo=i("false",!0),Ko="on",$o=i("on",!0),Zo="off",Yo=i("off",!0),Jo="0",Qo=i("0",!1),ti="1",ei=i("1",!1),ri=s("size"),ni=function(t){return t.toString()},oi="auto",ii=i("auto",!0),ai=function(t){return t.toLowerCase()},ui=0,ci=0,si=[{line:1,column:1}],li=0,fi=[],di=0;if("startRule"in r){if(!(r.startRule in Lt))throw new Error("Can't start parsing from rule \""+r.startRule+'".');Tt=Lt[r.startRule]}if(kt=Tt(),kt!==Et&&ui===t.length)return kt;throw kt!==Et&&ui<t.length&&d(c()),p(fi,li<t.length?t.charAt(li):null,li<t.length?f(li,li+1):f(li,li))}return t(e,Error),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return c[t.type](t)}function a(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function u(t){return t?'"'+n(t)+'"':"end of input"}var c={literal:function(t){return'"'+n(t.text)+'"'},"class":function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+a(t)+" but "+u(e)+" found."},{SyntaxError:e,parse:r}})},function(t,e,r){var n,o,i;!function(r,a){o=[],n=a,
i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,r,n,o){this.message=t,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function r(t,r){function n(t,e){return{type:"literal",text:t,ignoreCase:e}}function o(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function i(){return{type:"any"}}function a(){return{type:"end"}}function u(t){return{type:"other",description:t}}function c(e){var r,n=go[e];if(n)return n;for(r=e-1;!go[r];)r--;for(n=go[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return go[e]=n,n}function s(t,e){var r=c(t),n=c(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function l(t){ho<bo||(ho>bo&&(bo=ho,mo=[]),mo.push(t))}function f(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function d(){var t,e,r,n;return t=ho,e=Z(),e!==vt?(r=h(),r!==vt?(n=Z(),n!==vt?(po=t,e=Ct(e,r),t=e):(ho=t,t=vt)):(ho=t,t=vt)):(ho=t,t=vt),t}function h(){var t,e,r,n;return t=ho,e=p(),e===vt&&(e=null),e!==vt?(r=b(),r===vt&&(r=null),r!==vt?(n=x(),n===vt&&(n=null),n!==vt?(po=t,e=_t(e,r,n),t=e):(ho=t,t=vt)):(ho=t,t=vt)):(ho=t,t=vt),t}function p(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=g(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=Et(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);o!==vt;)n.push(o),o=ho,i=g(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=Et(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);return n!==vt?(o=ho,i=g(),i!==vt?(59===t.charCodeAt(ho)?(a=Lt,ho++):(a=vt,0===xo&&l(Tt)),a!==vt?(po=o,i=Et(i),o=i):(ho=o,o=vt)):(ho=o,o=vt),o!==vt?(n=[n,o],r=n):(ho=r,r=vt)):(ho=r,r=vt),r!==vt&&(po=e,r=It(r)),e=r}function g(){var e,r,n,o,i,a,u,c;return e=ho,r=Z(),r!==vt?(t.substr(ho,6).toLowerCase()===St?(n=t.substr(ho,6),ho+=6):(n=vt,0===xo&&l(Dt)),n===vt&&(t.substr(ho,11).toLowerCase()===jt?(n=t.substr(ho,11),ho+=11):(n=vt,0===xo&&l(Nt))),n!==vt?(o=Z(),o!==vt?(61===t.charCodeAt(ho)?(i=Bt,ho++):(i=vt,0===xo&&l(Ht)),i!==vt?(a=Z(),a!==vt?(u=Y(),u!==vt?(c=Z(),c!==vt?(po=e,r=Ot(n,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(t.substr(ho,5).toLowerCase()===Ft?(n=t.substr(ho,5),ho+=5):(n=vt,0===xo&&l(Wt)),n!==vt?(o=Z(),o!==vt?(61===t.charCodeAt(ho)?(i=Bt,ho++):(i=vt,0===xo&&l(Ht)),i!==vt?(a=Z(),a!==vt?(u=it(),u!==vt?(c=Z(),c!==vt?(po=e,r=Ot(n,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(t.substr(ho,12).toLowerCase()===Mt?(n=t.substr(ho,12),ho+=12):(n=vt,0===xo&&l(Rt)),n!==vt?(o=Z(),o!==vt?(61===t.charCodeAt(ho)?(i=Bt,ho++):(i=vt,0===xo&&l(Ht)),i!==vt?(a=Z(),a!==vt?(u=rt(),u!==vt?(c=Z(),c!==vt?(po=e,r=zt(n,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(t.substr(ho,9).toLowerCase()===Gt?(n=t.substr(ho,9),ho+=9):(n=vt,0===xo&&l(Xt)),n!==vt?(o=Z(),o!==vt?(61===t.charCodeAt(ho)?(i=Bt,ho++):(i=vt,0===xo&&l(Ht)),i!==vt?(a=Z(),a!==vt?(u=H(),u!==vt?(c=Z(),c!==vt?(po=e,r=Ot(n,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)))),e}function b(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=m(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=qt(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);o!==vt;)n.push(o),o=ho,i=m(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=qt(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);return n!==vt?(o=ho,i=m(),i!==vt?(59===t.charCodeAt(ho)?(a=Lt,ho++):(a=vt,0===xo&&l(Tt)),a!==vt?(po=o,i=qt(i),o=i):(ho=o,o=vt)):(ho=o,o=vt),o!==vt?(n=[n,o],r=n):(ho=r,r=vt)):(ho=r,r=vt),r!==vt&&(po=e,r=Ut(r)),e=r}function m(){var e,r,n,o,i,a,u,c,s;return xo++,e=ho,r=Z(),r!==vt?(n=M(),n!==vt?(o=Z(),o!==vt?(i=ho,58===t.charCodeAt(ho)?(a=Vt,ho++):(a=vt,0===xo&&l(Kt)),a!==vt?(u=Z(),u!==vt?(c=B(),c!==vt?(s=Z(),s!==vt?(po=i,a=$t(n,c),i=a):(ho=i,i=vt)):(ho=i,i=vt)):(ho=i,i=vt)):(ho=i,i=vt),i===vt&&(i=null),i!==vt?(po=e,r=Zt(n,i),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),xo--,e===vt&&(r=vt,0===xo&&l(Pt)),e}function x(){var e,r,n,o,i;if(e=[],r=ho,n=v(),n!==vt?(o=Z(),o!==vt?(59===t.charCodeAt(ho)?(i=Lt,ho++):(i=vt,0===xo&&l(Tt)),i!==vt?(po=r,n=Yt(n),r=n):(ho=r,r=vt)):(ho=r,r=vt)):(ho=r,r=vt),r!==vt)for(;r!==vt;)e.push(r),r=ho,n=v(),n!==vt?(o=Z(),o!==vt?(59===t.charCodeAt(ho)?(i=Lt,ho++):(i=vt,0===xo&&l(Tt)),i!==vt?(po=r,n=Yt(n),r=n):(ho=r,r=vt)):(ho=r,r=vt)):(ho=r,r=vt);else e=vt;return e}function v(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=y(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=Yt(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);o!==vt;)n.push(o),o=ho,i=y(),i!==vt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=vt,0===xo&&l(kt)),a!==vt?(po=o,i=Yt(i),o=i):(ho=o,o=vt)):(ho=o,o=vt);return n!==vt?(o=ho,i=y(),i!==vt&&(po=o,i=Yt(i)),o=i,o!==vt?(n=[n,o],r=n):(ho=r,r=vt)):(ho=r,r=vt),r!==vt&&(po=e,r=Jt(r)),e=r}function y(){var t;return t=w(),t===vt&&(t=k()),t}function w(){var e,r,n,o,i,a,u;return e=ho,r=ho,n=C(),n!==vt&&(po=r,n=Qt(n)),r=n,r===vt&&(r=ho,n=A(),n!==vt&&(po=r,n=te(n)),r=n,r===vt&&(r=ho,n=_(),n!==vt&&(po=r,n=ee(n)),r=n)),r!==vt?(n=ho,58===t.charCodeAt(ho)?(o=Vt,ho++):(o=vt,0===xo&&l(Kt)),o!==vt?(i=Z(),i!==vt?(a=B(),a!==vt?(u=Z(),u!==vt?(po=n,o=re(r,a),n=o):(ho=n,n=vt)):(ho=n,n=vt)):(ho=n,n=vt)):(ho=n,n=vt),n===vt&&(n=null),n!==vt?(po=e,r=ne(r,n),e=r):(ho=e,e=vt)):(ho=e,e=vt),e}function C(){var t,e,r,n;return t=ho,e=Z(),e!==vt?(r=E(),r!==vt?(n=Z(),n!==vt?(po=t,e=oe(r),t=e):(ho=t,t=vt)):(ho=t,t=vt)):(ho=t,t=vt),t}function _(){var t,e,r,n;return t=ho,e=Z(),e!==vt?(r=L(),r!==vt?(n=Z(),n!==vt?(po=t,e=oe(r),t=e):(ho=t,t=vt)):(ho=t,t=vt)):(ho=t,t=vt),t}function A(){var e,r,n,o,i,a,u,c;return e=ho,r=Z(),r!==vt?(n=M(),n!==vt?(o=Z(),o!==vt?(i=T(),i!==vt?(a=Z(),a!==vt?(u=M(),u!==vt?(c=Z(),c!==vt?(po=e,r=ie(n,i,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(42===t.charCodeAt(ho)?(n=ae,ho++):(n=vt,0===xo&&l(ue)),n!==vt?(o=Z(),o!==vt?(i=D(),i!==vt?(a=Z(),a!==vt?(u=M(),u!==vt?(c=Z(),c!==vt?(po=e,r=ce(i,u),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(n=M(),n!==vt?(o=Z(),o!==vt?(i=S(),i!==vt?(a=Z(),a!==vt?(42===t.charCodeAt(ho)?(u=ae,ho++):(u=vt,0===xo&&l(ue)),u!==vt?(c=Z(),c!==vt?(po=e,r=se(n,i),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e===vt&&(e=ho,r=Z(),r!==vt?(n=M(),n!==vt?(o=Z(),o!==vt?(i=I(),i!==vt?(a=Z(),a!==vt?(42===t.charCodeAt(ho)?(u=ae,ho++):(u=vt,0===xo&&l(ue)),u!==vt?(c=Z(),c!==vt?(po=e,r=se(n,i),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)))),e}function k(){var e,r,n,o,i,a,u,c,s,f,d,h,p,g,b;return e=ho,r=Z(),r!==vt?(n=M(),n!==vt?(o=Z(),o!==vt?(i=N(),i!==vt?(a=Z(),a!==vt?(u=M(),u!==vt?(c=Z(),c!==vt?(s=ho,58===t.charCodeAt(ho)?(f=Vt,ho++):(f=vt,0===xo&&l(Kt)),f!==vt?(d=Z(),d!==vt?(h=B(),h!==vt?(p=Z(),p!==vt?(po=s,f=le(n,i,u,h),s=f):(ho=s,s=vt)):(ho=s,s=vt)):(ho=s,s=vt)):(ho=s,s=vt),s===vt&&(s=null),s!==vt?(123===t.charCodeAt(ho)?(f=fe,ho++):(f=vt,0===xo&&l(de)),f!==vt?(d=Z(),d!==vt?(h=x(),h===vt&&(h=null),h!==vt?(p=Z(),p!==vt?(125===t.charCodeAt(ho)?(g=he,ho++):(g=vt,0===xo&&l(pe)),g!==vt?(b=Z(),b!==vt?(po=e,r=ge(n,i,u,s,h),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e}function E(){var e,r;return xo++,t.substr(ho,3)===me?(e=me,ho+=3):(e=vt,0===xo&&l(xe)),e===vt&&(t.substr(ho,3)===ve?(e=ve,ho+=3):(e=vt,0===xo&&l(ye))),xo--,e===vt&&(r=vt,0===xo&&l(be)),e}function L(){var e,r;return xo++,t.substr(ho,3)===Ce?(e=Ce,ho+=3):(e=vt,0===xo&&l(_e)),xo--,e===vt&&(r=vt,0===xo&&l(we)),e}function T(){var t,e;return t=ho,e=I(),e===vt&&(e=S(),e===vt&&(e=D(),e===vt&&(e=j()))),e!==vt&&(po=t,e=Ae(e)),t=e}function I(){var e,r;return xo++,t.substr(ho,2)===Ee?(e=Ee,ho+=2):(e=vt,0===xo&&l(Le)),e===vt&&(t.substr(ho,3)===Te?(e=Te,ho+=3):(e=vt,0===xo&&l(Ie)),e===vt&&(t.substr(ho,2)===Se?(e=Se,ho+=2):(e=vt,0===xo&&l(De)),e===vt&&(t.substr(ho,5)===je?(e=je,ho+=5):(e=vt,0===xo&&l(Ne)),e===vt&&(t.substr(ho,3)===Be?(e=Be,ho+=3):(e=vt,0===xo&&l(He)),e===vt&&(t.substr(ho,2)===Oe?(e=Oe,ho+=2):(e=vt,0===xo&&l(Fe)),e===vt&&(t.substr(ho,4)===We?(e=We,ho+=4):(e=vt,0===xo&&l(Me)),e===vt&&(t.substr(ho,2)===Re?(e=Re,ho+=2):(e=vt,0===xo&&l(ze)),e===vt&&(t.substr(ho,3)===Ge?(e=Ge,ho+=3):(e=vt,0===xo&&l(Xe)))))))))),xo--,e===vt&&(r=vt,0===xo&&l(ke)),e}function S(){var e,r;return xo++,t.substr(ho,2)===Ue?(e=Ue,ho+=2):(e=vt,0===xo&&l(Pe)),e===vt&&(t.substr(ho,3)===Ve?(e=Ve,ho+=3):(e=vt,0===xo&&l(Ke)),e===vt&&(t.substr(ho,2)===$e?(e=$e,ho+=2):(e=vt,0===xo&&l(Ze)),e===vt&&(t.substr(ho,2)===Ye?(e=Ye,ho+=2):(e=vt,0===xo&&l(Je)),e===vt&&(t.substr(ho,2)===Qe?(e=Qe,ho+=2):(e=vt,0===xo&&l(tr)),e===vt&&(t.substr(ho,2).toLowerCase()===er?(e=t.substr(ho,2),ho+=2):(e=vt,0===xo&&l(rr))))))),xo--,e===vt&&(r=vt,0===xo&&l(qe)),e}function D(){var e,r;return xo++,t.substr(ho,2)===or?(e=or,ho+=2):(e=vt,0===xo&&l(ir)),e===vt&&(t.substr(ho,3)===ar?(e=ar,ho+=3):(e=vt,0===xo&&l(ur)),e===vt&&(t.substr(ho,2)===cr?(e=cr,ho+=2):(e=vt,0===xo&&l(sr)),e===vt&&(t.substr(ho,2)===lr?(e=lr,ho+=2):(e=vt,0===xo&&l(fr)),e===vt&&(t.substr(ho,2)===dr?(e=dr,ho+=2):(e=vt,0===xo&&l(hr)),e===vt&&(t.substr(ho,2).toLowerCase()===pr?(e=t.substr(ho,2),ho+=2):(e=vt,0===xo&&l(gr))))))),xo--,e===vt&&(r=vt,0===xo&&l(nr)),e}function j(){var e,r;return xo++,t.substr(ho,4).toLowerCase()===mr?(e=t.substr(ho,4),ho+=4):(e=vt,0===xo&&l(xr)),e===vt&&(t.substr(ho,4).toLowerCase()===vr?(e=t.substr(ho,4),ho+=4):(e=vt,0===xo&&l(yr)),e===vt&&(t.substr(ho,4).toLowerCase()===wr?(e=t.substr(ho,4),ho+=4):(e=vt,0===xo&&l(Cr)),e===vt&&(t.substr(ho,3).toLowerCase()===_r?(e=t.substr(ho,3),ho+=3):(e=vt,0===xo&&l(Ar))))),xo--,e===vt&&(r=vt,0===xo&&l(br)),e}function N(){var e,r;return xo++,e=ho,t.substr(ho,3).toLowerCase()===Er?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(Lr)),r===vt&&(t.substr(ho,4).toLowerCase()===Tr?(r=t.substr(ho,4),ho+=4):(r=vt,0===xo&&l(Ir)),r===vt&&(t.substr(ho,3).toLowerCase()===Sr?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(Dr)),r===vt&&(t.substr(ho,5).toLowerCase()===jr?(r=t.substr(ho,5),ho+=5):(r=vt,0===xo&&l(Nr)),r===vt&&(t.substr(ho,3).toLowerCase()===Br?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(Hr)),r===vt&&(t.substr(ho,3).toLowerCase()===Or?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(Fr)),r===vt&&(t.substr(ho,6).toLowerCase()===Wr?(r=t.substr(ho,6),ho+=6):(r=vt,0===xo&&l(Mr)),r===vt&&(t.substr(ho,3).toLowerCase()===Rr?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(zr)),r===vt&&(t.substr(ho,8).toLowerCase()===Gr?(r=t.substr(ho,8),ho+=8):(r=vt,0===xo&&l(Xr)),r===vt&&(t.substr(ho,6).toLowerCase()===qr?(r=t.substr(ho,6),ho+=6):(r=vt,0===xo&&l(Ur)),r===vt&&(t.substr(ho,8).toLowerCase()===Pr?(r=t.substr(ho,8),ho+=8):(r=vt,0===xo&&l(Vr)),r===vt&&(t.substr(ho,6).toLowerCase()===Kr?(r=t.substr(ho,6),ho+=6):(r=vt,0===xo&&l($r)),r===vt&&(t.substr(ho,4).toLowerCase()===Zr?(r=t.substr(ho,4),ho+=4):(r=vt,0===xo&&l(Yr)),r===vt&&(t.substr(ho,3).toLowerCase()===Jr?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(Qr)),r===vt&&(t.substr(ho,3).toLowerCase()===tn?(r=t.substr(ho,3),ho+=3):(r=vt,0===xo&&l(en)))))))))))))))),r!==vt&&(po=e,r=rn(r)),e=r,xo--,e===vt&&(r=vt,0===xo&&l(kr)),e}function B(){var t;return t=H(),t===vt&&(t=F()),t}function H(){var e,r,n,o;return xo++,e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=vt,0===xo&&l(an)),r!==vt?(n=O(),n!==vt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),o!==vt?(po=e,r=un(n),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),xo--,e===vt&&(r=vt,0===xo&&l(nn)),e}function O(){var e,r,n,o;for(e=[],r=ho,n=ho,xo++,34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),xo--,o===vt?n=void 0:(ho=n,n=vt),n!==vt?(t.substr(ho,2)===cn?(o=cn,ho+=2):(o=vt,0===xo&&l(sn)),o===vt&&(t.length>ho?(o=t.charAt(ho),ho++):(o=vt,0===xo&&l(ln))),o!==vt?(po=r,n=fn(o),r=n):(ho=r,r=vt)):(ho=r,r=vt);r!==vt;)e.push(r),r=ho,n=ho,xo++,34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),xo--,o===vt?n=void 0:(ho=n,n=vt),n!==vt?(t.substr(ho,2)===cn?(o=cn,ho+=2):(o=vt,0===xo&&l(sn)),o===vt&&(t.length>ho?(o=t.charAt(ho),ho++):(o=vt,0===xo&&l(ln))),o!==vt?(po=r,n=fn(o),r=n):(ho=r,r=vt)):(ho=r,r=vt);return e}function F(){var t,e;return t=ho,e=W(),e!==vt&&(po=t,e=dn(e)),t=e}function W(){var e,r,n,o;for(e=[],r=ho,n=ho,xo++,44===t.charCodeAt(ho)?(o=At,ho++):(o=vt,0===xo&&l(kt)),o===vt&&(59===t.charCodeAt(ho)?(o=Lt,ho++):(o=vt,0===xo&&l(Tt)),o===vt&&(123===t.charCodeAt(ho)?(o=fe,ho++):(o=vt,0===xo&&l(de)))),xo--,o===vt?n=void 0:(ho=n,n=vt),n!==vt?(t.length>ho?(o=t.charAt(ho),ho++):(o=vt,0===xo&&l(ln)),o!==vt?(po=r,n=fn(o),r=n):(ho=r,r=vt)):(ho=r,r=vt);r!==vt;)e.push(r),r=ho,n=ho,xo++,44===t.charCodeAt(ho)?(o=At,ho++):(o=vt,0===xo&&l(kt)),o===vt&&(59===t.charCodeAt(ho)?(o=Lt,ho++):(o=vt,0===xo&&l(Tt)),o===vt&&(123===t.charCodeAt(ho)?(o=fe,ho++):(o=vt,0===xo&&l(de)))),xo--,o===vt?n=void 0:(ho=n,n=vt),n!==vt?(t.length>ho?(o=t.charAt(ho),ho++):(o=vt,0===xo&&l(ln)),o!==vt?(po=r,n=fn(o),r=n):(ho=r,r=vt)):(ho=r,r=vt);return e}function M(){var e,r,n;if(xo++,e=ho,r=[],pn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=vt,0===xo&&l(gn)),n!==vt)for(;n!==vt;)r.push(n),pn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=vt,0===xo&&l(gn));else r=vt;return r!==vt&&(po=e,r=bn(r)),e=r,e===vt&&(e=H()),xo--,e===vt&&(r=vt,0===xo&&l(hn)),e}function R(){var e,r;return xo++,e=ho,xn.test(t.charAt(ho))?(r=t.charAt(ho),ho++):(r=vt,0===xo&&l(vn)),r!==vt&&(po=e,r=fn(r)),e=r,xo--,e===vt&&(r=vt,0===xo&&l(mn)),e}function z(){var e,r;return xo++,e=ho,wn.test(t.charAt(ho))?(r=t.charAt(ho),ho++):(r=vt,0===xo&&l(Cn)),r!==vt&&(po=e,r=fn(r)),e=r,xo--,e===vt&&(r=vt,0===xo&&l(yn)),e}function G(){var e;return t.substr(ho,2)===_n?(e=_n,ho+=2):(e=vt,0===xo&&l(An)),e}function X(){var e;return t.substr(ho,2)===kn?(e=kn,ho+=2):(e=vt,0===xo&&l(En)),e}function q(){var e,r,n;return e=ho,r=ho,xo++,t.substr(ho,2)===kn?(n=kn,ho+=2):(n=vt,0===xo&&l(En)),xo--,n===vt?r=void 0:(ho=r,r=vt),r!==vt?(t.length>ho?(n=t.charAt(ho),ho++):(n=vt,0===xo&&l(ln)),n!==vt?(po=e,r=fn(n),e=r):(ho=e,e=vt)):(ho=e,e=vt),e}function U(){var t,e,r,n;if(t=ho,e=G(),e!==vt){for(r=[],n=q();n!==vt;)r.push(n),n=q();r!==vt?(n=X(),n!==vt?(po=t,e=Ln(e,r,n),t=e):(ho=t,t=vt)):(ho=t,t=vt)}else ho=t,t=vt;return t}function P(){var e;return t.substr(ho,2)===Tn?(e=Tn,ho+=2):(e=vt,0===xo&&l(In)),e===vt&&(35===t.charCodeAt(ho)?(e=Sn,ho++):(e=vt,0===xo&&l(Dn))),e}function V(){var e;return jn.test(t.charAt(ho))?(e=t.charAt(ho),ho++):(e=vt,0===xo&&l(Nn)),e}function K(){var t,e,r,n;if(t=ho,e=P(),e!==vt){for(r=[],n=V();n!==vt;)r.push(n),n=V();r!==vt?(po=t,e=Bn(e,r),t=e):(ho=t,t=vt)}else ho=t,t=vt;return t}function $(){var t,e;return xo++,t=K(),t===vt&&(t=U()),xo--,t===vt&&(e=vt,0===xo&&l(Hn)),t}function Z(){var t,e;for(t=[],e=R(),e===vt&&(e=z(),e===vt&&(e=$()));e!==vt;)t.push(e),e=R(),e===vt&&(e=z(),e===vt&&(e=$()));return t}function Y(){var t,e;return xo++,t=ho,e=J(),e!==vt&&(po=t,e=Fn(e)),t=e,t===vt&&(t=ho,e=Q(),e!==vt&&(po=t,e=Wn(e)),t=e),xo--,t===vt&&(e=vt,0===xo&&l(On)),t}function J(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=vt,0===xo&&l(an)),r!==vt?(n=Q(),n!==vt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),o!==vt?(po=e,r=Mn(n),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e}function Q(){var t;return t=et(),t===vt&&(t=tt()),t}function tt(){var e,r,n;if(e=ho,r=[],Rn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=vt,0===xo&&l(zn)),n!==vt)for(;n!==vt;)r.push(n),Rn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=vt,0===xo&&l(zn));else r=vt;return r!==vt&&(po=e,r=Gn(r)),e=r}function et(){var e,r,n,o,i;return e=ho,r=ho,n=tt(),n!==vt?(46===t.charCodeAt(ho)?(o=Xn,ho++):(o=vt,0===xo&&l(qn)),o!==vt?(i=tt(),i!==vt?(n=[n,o,i],r=n):(ho=r,r=vt)):(ho=r,r=vt)):(ho=r,r=vt),r!==vt&&(po=e,r=Un(r)),e=r}function rt(){var t,e;return xo++,t=ho,e=nt(),e!==vt&&(po=t,e=Vn(e)),t=e,t===vt&&(t=ho,e=ot(),e!==vt&&(po=t,e=Kn(e)),t=e),xo--,t===vt&&(e=vt,0===xo&&l(Pn)),t}function nt(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=vt,0===xo&&l(an)),r!==vt?(n=ot(),n!==vt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),o!==vt?(po=e,r=Fn(n),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e}function ot(){var e;return t.substr(ho,4).toLowerCase()===$n?(e=t.substr(ho,4),ho+=4):(e=vt,0===xo&&l(Zn)),e===vt&&(t.substr(ho,5).toLowerCase()===Yn?(e=t.substr(ho,5),ho+=5):(e=vt,0===xo&&l(Jn)),e===vt&&(t.substr(ho,2).toLowerCase()===Qn?(e=t.substr(ho,2),ho+=2):(e=vt,0===xo&&l(to)),e===vt&&(t.substr(ho,3).toLowerCase()===eo?(e=t.substr(ho,3),ho+=3):(e=vt,0===xo&&l(ro)),e===vt&&(48===t.charCodeAt(ho)?(e=no,ho++):(e=vt,0===xo&&l(oo)),e===vt&&(49===t.charCodeAt(ho)?(e=io,ho++):(e=vt,0===xo&&l(ao))))))),e}function it(){var t,e;return xo++,t=at(),t===vt&&(t=ut()),xo--,t===vt&&(e=vt,0===xo&&l(uo)),t}function at(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=vt,0===xo&&l(an)),r!==vt?(n=ut(),n!==vt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=vt,0===xo&&l(an)),o!==vt?(po=e,r=Fn(n),e=r):(ho=e,e=vt)):(ho=e,e=vt)):(ho=e,e=vt),e}function ut(){var e,r;return e=ho,r=Q(),r!==vt&&(po=e,r=co(r)),e=r,e===vt&&(e=ho,t.substr(ho,4).toLowerCase()===so?(r=t.substr(ho,4),ho+=4):(r=vt,0===xo&&l(lo)),r!==vt&&(po=e,r=fo(r)),e=r),e}function ct(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function st(t){var e={};return t.forEach(function(t){e=ct(e,t)}),e}function lt(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function ft(t,e){var r={};return r[t.toLowerCase()]=e,r}function dt(t,e,r){return void 0===e||"*"===e||(!!t.some(function(t){return t.name===e})||r[e]===!0)}function ht(t){var e={};return e.name=t,e}function pt(t,e,r){return t||(t=[]),r||(r={}),e&&e.forEach(function(e){e.forEach(function(e){dt(t,e.from,r)||t.push(ht(e.from)),e.arcs&&(r[e.to]=!0,ct(t,pt(t,e.arcs,r)),delete r[e.to]),dt(t,e.to,r)||t.push(ht(e.to))})}),t}function gt(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function bt(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function mt(t,e){var r=gt(t),n=bt(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var xt,vt={},yt={program:d},wt=d,Ct=function(t,e){e.entities=pt(e.entities,e.arcs);var r=e;return r=ct({meta:mt(e.options,e.arcs)},r),t.length>0&&(r=ct({precomment:t},r)),r},_t=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},At=",",kt=n(",",!1),Et=function(t){return t},Lt=";",Tt=n(";",!1),It=function(t){return st(t[0].concat(t[1]))},St="hscale",Dt=n("hscale",!0),jt="arcgradient",Nt=n("arcgradient",!0),Bt="=",Ht=n("=",!1),Ot=function(t,e){return ft(t,e)},Ft="width",Wt=n("width",!0),Mt="wordwraparcs",Rt=n("wordwraparcs",!0),zt=function(t,e){return ft(t,lt(e))},Gt="watermark",Xt=n("watermark",!0),qt=function(t){return t},Ut=function(t){return t[0].concat(t[1])},Pt=u("entity"),Vt=":",Kt=n(":",!1),$t=function(t,e){return e},Zt=function(t,e){var r={};return r.name=t,e&&(r.label=e),r},Yt=function(t){return t},Jt=function(t){return t[0].concat(t[1])},Qt=function(t){return t},te=function(t){return t},ee=function(t){return t},re=function(t,e){return e},ne=function(t,e){return e&&(t.label=e),t},oe=function(t){return{kind:t}},ie=function(t,e,r){return{kind:e,from:t,to:r}},ae="*",ue=n("*",!1),ce=function(t,e){return{kind:t,from:"*",to:e}},se=function(t,e){return{kind:e,from:t,to:"*"}},le=function(t,e,r,n){return n},fe="{",de=n("{",!1),he="}",pe=n("}",!1),ge=function(t,e,r,n,o){var i={kind:e,from:t,to:r,arcs:o};return n&&(i.label=n),i},be=u("empty row"),me="|||",xe=n("|||",!1),ve="...",ye=n("...",!1),we=u("---"),Ce="---",_e=n("---",!1),Ae=function(t){return t.toLowerCase()},ke=u("bi-directional arrow"),Ee="--",Le=n("--",!1),Te="<->",Ie=n("<->",!1),Se="==",De=n("==",!1),je="<<=>>",Ne=n("<<=>>",!1),Be="<=>",He=n("<=>",!1),Oe="..",Fe=n("..",!1),We="<<>>",Me=n("<<>>",!1),Re="::",ze=n("::",!1),Ge="<:>",Xe=n("<:>",!1),qe=u("left to right arrow"),Ue="->",Pe=n("->",!1),Ve="=>>",Ke=n("=>>",!1),$e="=>",Ze=n("=>",!1),Ye=">>",Je=n(">>",!1),Qe=":>",tr=n(":>",!1),er="-x",rr=n("-x",!0),nr=u("right to left arrow"),or="<-",ir=n("<-",!1),ar="<<=",ur=n("<<=",!1),cr="<=",sr=n("<=",!1),lr="<<",fr=n("<<",!1),dr="<:",hr=n("<:",!1),pr="x-",gr=n("x-",!0),br=u("box"),mr="note",xr=n("note",!0),vr="abox",yr=n("abox",!0),wr="rbox",Cr=n("rbox",!0),_r="box",Ar=n("box",!0),kr=u("inline expression"),Er="alt",Lr=n("alt",!0),Tr="else",Ir=n("else",!0),Sr="opt",Dr=n("opt",!0),jr="break",Nr=n("break",!0),Br="par",Hr=n("par",!0),Or="seq",Fr=n("seq",!0),Wr="strict",Mr=n("strict",!0),Rr="neg",zr=n("neg",!0),Gr="critical",Xr=n("critical",!0),qr="ignore",Ur=n("ignore",!0),Pr="consider",Vr=n("consider",!0),Kr="assert",$r=n("assert",!0),Zr="loop",Yr=n("loop",!0),Jr="ref",Qr=n("ref",!0),tn="exc",en=n("exc",!0),rn=function(t){return t.toLowerCase()},nn=u("double quoted string"),on='"',an=n('"',!1),un=function(t){return t.join("")},cn='\\"',sn=n('\\"',!1),ln=i(),fn=function(t){return t},dn=function(t){return t.join("").trim()},hn=u("identifier"),pn=/^[^;, "\t\n\r=\-><:{*]/,gn=o([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),bn=function(t){return t.join("")},mn=u("whitespace"),xn=/^[ \t]/,vn=o([" ","\t"],!1,!1),yn=u("lineend"),wn=/^[\r\n]/,Cn=o(["\r","\n"],!1,!1),_n="/*",An=n("/*",!1),kn="*/",En=n("*/",!1),Ln=function(t,e,r){return t+e.join("")+r},Tn="//",In=n("//",!1),Sn="#",Dn=n("#",!1),jn=/^[^\r\n]/,Nn=o(["\r","\n"],!0,!1),Bn=function(t,e){return t+e.join("")},Hn=u("comment"),On=u("number"),Fn=function(t){return t},Wn=function(t){return t.toString()},Mn=function(t){return t.toString()},Rn=/^[0-9]/,zn=o([["0","9"]],!1,!1),Gn=function(t){return parseInt(t.join(""),10)},Xn=".",qn=n(".",!1),Un=function(t){return parseFloat(t.join(""))},Pn=u("boolean"),Vn=function(t){return t},Kn=function(t){return t.toString()},$n="true",Zn=n("true",!0),Yn="false",Jn=n("false",!0),Qn="on",to=n("on",!0),eo="off",ro=n("off",!0),no="0",oo=n("0",!1),io="1",ao=n("1",!1),uo=u("size"),co=function(t){return t.toString()},so="auto",lo=n("auto",!0),fo=function(t){return t.toLowerCase()},ho=0,po=0,go=[{line:1,column:1}],bo=0,mo=[],xo=0;if("startRule"in r){if(!(r.startRule in yt))throw new Error("Can't start parsing from rule \""+r.startRule+'".');wt=yt[r.startRule]}if(xt=wt(),xt!==vt&&ho===t.length)return xt;throw xt!==vt&&ho<t.length&&l(a()),f(mo,bo<t.length?t.charAt(bo):null,bo<t.length?s(bo,bo+1):s(bo,bo))}return t(e,Error),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return c[t.type](t)}function a(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function u(t){return t?'"'+n(t)+'"':"end of input"}var c={literal:function(t){return'"'+n(t.text)+'"'},"class":function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+a(t)+" but "+u(e)+" found."},{SyntaxError:e,parse:r}})},function(t,e,r){var n,o;n=[r(8),r(4),r(6),r(12),r(13),r(15),r(17),r(22),r(7),r(19),r(20),r(21),r(5),r(10)],o=function(t,e,r,n,o,i,a,u,c,s,l,f,d,h){"use strict";function p(t,e,n,o){var a=Object.seal(i.flatten(t)),u=o||{};u=h.defaults(u,{source:null,styleAdditions:null,mirrorEntitiesOnBottom:!1}),g(a,e,n,u),b(a),m(a);var c=e.document.getElementById(n);return c?r.webkitNamespaceBugWorkaround(c.innerHTML):r.webkitNamespaceBugWorkaround(e.document.body.innerHTML)}function g(t,e,n,i){c.setPrefix(n),Z.document=o.bootstrap(e,n,c.get(),s.getMarkerDefs(c.get(),t),i),Z.mirrorEntitiesOnBottom=Boolean(i.mirrorEntitiesOnBottom),r.init(Z.document),Z.layer=x(Z.document),Z.maxDepth=t.depth,y(Z,t.options)}function b(t){I(t.entities),u.clear(l.getDims().height,Z.arcRowHeight),N(t.arcs,t.entities),Z.mirrorEntitiesOnBottom&&T()}function m(t){var e=w(t);C(e),A(t.options,e),k(e)}function x(t){return{defs:t.getElementById(c.get("__defs")),lifeline:t.getElementById(c.get("__lifelinelayer")),sequence:t.getElementById(c.get("__sequencelayer")),notes:t.getElementById(c.get("__notelayer")),inline:t.getElementById(c.get("__arcspanlayer")),watermark:t.getElementById(c.get("__watermark"))}}function v(t,e){t.arcRowHeight=K,t.arcGradient=$,t.wordWrapArcs=!1,e&&(e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+K,t.arcGradient=parseInt(e.arcgradient,10)+$),t.wordWrapArcs=Boolean(e.wordwraparcs))}function y(t,e){l.init(e&&e.hscale),v(t,e)}function w(t){var e=n.determineDepthCorrection(t.depth,d.LINE_WIDTH),r=u.getLast(),o={width:t.entities.length*l.getDims().interEntitySpacing+e,height:Boolean(Z.mirrorEntitiesOnBottom)?2*l.getDims().height+r.y+r.height+2*V:r.y+r.height/2+2*V,horizontaltransform:(l.getDims().interEntitySpacing+e-l.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:V,scale:1};return o.x=0-o.horizontaltransform,o.y=0-o.verticaltransform,o}function C(e){Z.document.getElementById(c.get("__background")).appendChild(t.createRect(e,"bglayer"))}function _(e,r){Z.layer.watermark.appendChild(t.createDiagonalText(e,r,"watermark"))}function A(t,e){t&&(t.watermark&&_(t.watermark,e),t.width&&"auto"!==t.width&&n.scaleCanvasToWidth(t.width,e))}function k(t){var r=Z.document.getElementById(c.get()),n=Z.document.getElementById(c.get("__body"));n.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&t.autoscale===!0?e.setAttributes(r,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):e.setAttributes(r,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()})}function E(t){var e=t[0],n=2;return t.forEach(function(t){var r=l.getNoEntityLines(t.label);r>n&&(n=r,e=t)}),n>2?Math.max(l.getDims().height,r.getBBox(L(e)).height):l.getDims().height}function L(e,r){var n=t.createGroup(c.get(e.name)),o=l.getDims();return o.x=r?r:0,n.appendChild(t.createRect(o,"entity",e.linecolor,e.textbgcolor)),n.appendChild(f.createLabel(e,{x:o.x,y:o.height/2,width:o.width},{kind:"entity"})),n}function T(){var e=u.getLast().y+(u.getLast().height+Z.arcRowHeight)/2;Z.layer.lifeline.appendChild(t.createUse({x:0,y:e},c.get("arcrow"))),Z.layer.sequence.appendChild(t.createUse({x:0,y:e+Z.arcRowHeight/2},c.get("entities")))}function I(e){var r=0,n=t.createGroup(c.get("entities"));e&&(l.setHeight(E(e)+2*d.LINE_WIDTH),e.forEach(function(t){n.appendChild(L(t,r)),l.setX(t,r),r+=l.getDims().interEntitySpacing}),Z.layer.defs.appendChild(n),Z.layer.sequence.appendChild(t.createUse({x:0,y:0},c.get("entities")))),Z.arcEndX=r-l.getDims().interEntitySpacing+l.getDims().width}function S(t,e,r,n){var o=0,i=t.label,a=l.getX(t.from);t.label="",e.forEach(function(e,i){e.name!==t.from&&(o=l.getX(e.name),Z.layer.defs.appendChild(G(r+"bc"+i,t,a,o)),n.push({id:r+"bc"+i,layer:Z.layer.sequence}))}),t.label=i}function D(t,e,r,n){var o={};return t.from&&t.to&&("*"===t.to?(S(t,e,r,n),o=f.createLabel(t,{x:0,y:0,width:Z.arcEndX},{alignAround:!0,ownBackground:!0,wordWrapArcs:Z.wordWrapArcs},r+"_lbl"),n.push({id:r+"_lbl",layer:Z.layer.sequence})):(o=G(r,t,l.getX(t.from),l.getX(t.to)),n.push({id:r,layer:Z.layer.sequence}))),o}function j(e,n,o){var i="arcrow",s=[];e.forEach(function(t,e){var f=c.get(n.toString()+"_"+e.toString()),h={};switch(a.getAggregate(t.kind)){case"emptyarc":h=M(t,f),"..."===t.kind&&(i="arcrowomit"),s.push({id:f,layer:Z.layer.sequence});break;case"box":h=P(f,l.getOAndD(t.from,t.to),t),s.push({id:f,layer:Z.layer.notes});break;case"inline_expression":h=B(f+"_label",t),s.push({id:f+"_label",layer:Z.layer.notes}),Y.push({id:f,arc:t,rownum:n});break;default:h=D(t,o,f,s)}u.set(n,Math.max(u.get(n).height,r.getBBox(h).height+2*d.LINE_WIDTH)),Z.layer.defs.appendChild(h)});var f="arcrow_"+n.toString();Z.layer.defs.appendChild(F(o,i,u.get(n).height,c.get(f))),Z.layer.lifeline.appendChild(t.createUse({x:0,y:u.get(n).y},c.get(f))),s.forEach(function(e){e.layer.appendChild(t.createUse({x:0,y:u.get(n).y},e.id))})}function N(e,r){if(Y=[],Z.layer.defs.appendChild(F(r,"arcrow",null,c.get("arcrow"))),Z.layer.lifeline.appendChild(t.createUse({x:0,y:u.get(-1).y},c.get("arcrow"))),e){for(var n=0;n<e.length;n++)j(e[n],n,r);H(Y)}}function B(e,n){var o=l.getOAndD(n.from,n.to),i=7,a=2*Z.maxDepth*d.LINE_WIDTH,u=o.to-o.from+(l.getDims().interEntitySpacing-2*d.LINE_WIDTH)-i-d.LINE_WIDTH,c=o.from-(l.getDims().interEntitySpacing-3*d.LINE_WIDTH-a)/2-2*(Z.maxDepth-n.depth)*d.LINE_WIDTH,s=t.createGroup(e);n.label=n.kind+(n.label?": "+n.label:"");var h=f.createLabel(n,{x:c+d.LINE_WIDTH-u/2,y:Z.arcRowHeight/4,width:u},{alignLeft:!0,ownBackground:!1,wordWrapArcs:Z.wordWrapArcs}),p=r.getBBox(h),g=Math.max(p.height+2*d.LINE_WIDTH,Z.arcRowHeight/2-2*d.LINE_WIDTH),b=Math.min(p.width+2*d.LINE_WIDTH,u),m=t.createEdgeRemark({width:b-d.LINE_WIDTH+i,height:g,x:c,y:0},"box inline_expression_label",n.linecolor,n.textbgcolor,i);return s.appendChild(m),s.appendChild(h),s}function H(e){e.forEach(function(e){Z.layer.defs.appendChild(O(e)),Z.layer.inline.appendChild(t.createUse({x:0,y:u.get(e.rownum).y},e.id))})}function O(t){var e=u.get(t.rownum).y,r=u.get(t.rownum+t.arc.numberofrows+1).y,n=r-e;return t.arc.label="",U(t.id,l.getOAndD(t.arc.from,t.arc.to),t.arc,n)}function F(e,r,n,o){o||(o=r),(!n||n<Z.arcRowHeight)&&(n=Z.arcRowHeight);var i=t.createGroup(o);return e.forEach(function(e){var o=t.createLine({xFrom:l.getX(e.name),yFrom:0-n/2,xTo:l.getX(e.name),yTo:n/2},{"class":r});e.linecolor&&o.setAttribute("style","stroke:"+e.linecolor+";"),i.appendChild(o)}),i}function W(e,r,n,o,i){var u=2*(Z.arcRowHeight/5),f=l.getDims().interEntitySpacing/2,h={},p="arc "+a.getAggregateClass(e)+" "+a.getClass(e);if(o){h=t.createGroup();var g=t.createUTurn({x:r,y:u/2},n+u-2*d.LINE_WIDTH,f-2*d.LINE_WIDTH,p,"::"!==e),b=t.createUTurn({x:r,y:u/2},n+u-d.LINE_WIDTH,f),m=t.createUTurn({x:r,y:u/2},n+u,f,p,"::"!==e);Boolean(i)&&g.setAttribute("style","stroke:"+i),s.getAttributes(c.get(),e,i,r,r).forEach(function(t){b.setAttribute(t.name,t.value)}),b.setAttribute("style","stroke:transparent;"),Boolean(i)&&m.setAttribute("style","stroke:"+i),h.appendChild(g),h.appendChild(m),h.appendChild(b),h.setAttribute("class",p)}else h=t.createUTurn({x:r,y:u/2},n+u,f,p,"-x"===e),s.getAttributes(c.get(),e,i,r,r).forEach(function(t){h.setAttribute(t.name,t.value)});return h}function M(t,e){return"---"===t.kind?q(e,t,l.getOAndD(t.from,t.to)):X(e,t,l.getOAndD(t.from,t.to))}function R(t){return t.arcskip?t.arcskip*Z.arcRowHeight:0}function z(t){return"<:>"===t?"bidi ":"::"===t?"nodi ":""}function G(e,r,o,i){
var u=t.createGroup(e),h="arc ";h+=z(r.kind),h+=a.getAggregateClass(r.kind)+" "+a.getClass(r.kind);var p=[":>","::","<:>"].indexOf(r.kind)>-1,g=R(r),b=0===g?Z.arcGradient:g;if(i=n.determineArcXTo(r.kind,o,i),o===i){u.appendChild(W(r.kind,o,g,p,r.linecolor));var m=2*l.getDims().interEntitySpacing/3;u.appendChild(f.createLabel(r,{x:o+1.5*d.LINE_WIDTH-m/2,y:0-Z.arcRowHeight/5-d.LINE_WIDTH/2,width:m},{alignLeft:!0,alignAbove:!0,ownBackground:!0,wordWrapArcs:Z.wordWrapArcs}))}else{var x=t.createLine({xFrom:o,yFrom:0,xTo:i,yTo:b},{"class":h,doubleLine:p});s.getAttributes(c.get(),r.kind,r.linecolor,o,i).forEach(function(t){x.setAttribute(t.name,t.value)}),u.appendChild(x),u.appendChild(f.createLabel(r,{x:o,y:0,width:i-o},{alignAround:!0,ownBackground:!0,wordWrapArcs:Z.wordWrapArcs}))}return u}function X(e,r,n){var o=0,i=Z.arcEndX,a=t.createGroup(e);return r.from&&r.to&&(o=n.from,i=n.to-n.from),a.appendChild(f.createLabel(r,{x:o,y:0,width:i},{ownBackground:!0,wordWrapArcs:Z.wordWrapArcs},e+"_lbl")),a}function q(e,r,n){var o=0,i=Z.arcEndX,a="comment",u=t.createGroup(e);if(r.from&&r.to){var c=1*Z.maxDepth*d.LINE_WIDTH,s=2*(Z.maxDepth-r.depth)*d.LINE_WIDTH;o=n.from-(l.getDims().interEntitySpacing+2*d.LINE_WIDTH)/2-(s-c),i=n.to+(l.getDims().interEntitySpacing+2*d.LINE_WIDTH)/2+(s-c),a="inline_expression_divider"}var f=t.createLine({xFrom:o,yFrom:0,xTo:i,yTo:0},{"class":a});return u.appendChild(f),u.appendChild(X(e+"_txt",r,n)),r.linecolor&&f.setAttribute("style","stroke:"+r.linecolor+";"),u}function U(e,r,n,o){var i=2*Z.maxDepth*d.LINE_WIDTH,a=r.to-r.from+l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i,u=r.from-(l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i)/2,c=t.createGroup(e),s=2*(Z.maxDepth-n.depth)*d.LINE_WIDTH;return c.appendChild(t.createRect({width:a+2*s,height:o?o:Z.arcRowHeight-2*d.LINE_WIDTH,x:u-s,y:0},"box inline_expression "+n.kind,n.linecolor,n.textbgcolor)),c}function P(e,n,o){var i=2*Z.maxDepth*d.LINE_WIDTH,a=n.to-n.from+l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i,u=n.from-(l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i)/2,c=t.createGroup(e),s={},h=f.createLabel(o,{x:u,y:0,width:a}),p=r.getBBox(h),g=Math.max(p.height+2*d.LINE_WIDTH,Z.arcRowHeight-2*d.LINE_WIDTH),b={width:a,height:g,x:u,y:0-g/2};switch(o.kind){case"rbox":s=t.createRBox(b,"box rbox",o.linecolor,o.textbgcolor);break;case"abox":s=t.createABox(b,"box abox",o.linecolor,o.textbgcolor);break;case"note":s=t.createNote(b,"box note",o.linecolor,o.textbgcolor);break;default:s=t.createRect(b,"box",o.linecolor,o.textbgcolor)}return c.appendChild(s),c.appendChild(h),c}var V=3,K=38,$=0,Z=Object.seal({arcRowHeight:K,arcGradient:$,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,maxDepth:0,document:{},layer:{defs:{},lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),Y=[];return{clean:function(t,e){Z.document=o.init(e),r.init(Z.document),r.removeRenderedSVGFromElement(t)},renderAST:function(t,e,r,n,o){return p(t,n,r,{source:e,styleAdditions:o})},renderASTNew:p}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5)],o=function(t){"use strict";function e(t,e,r){return r&&t.setAttribute(e,r),t}function r(t,r){return r&&Object.keys(r).forEach(function(n){e(t,n,r[n])}),t}function n(e,n){return r(o.createElementNS(t.SVGNS,e),n)}var o={};return{init:function(t){o=t},setAttribute:e,setAttributes:r,createElement:n}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{SVGNS:"http://www.w3.org/2000/svg",XLINKNS:"http://www.w3.org/1999/xlink",LINE_WIDTH:2,FONT_SIZE:12}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5),r(7),r(8),r(4),r(10)],o=function(t,e,r,n,o){"use strict";function i(t){var n=r.createSVG(t,e.get());return h.body.appendChild(n),n}function a(t){var e=h.getElementById(p);e=e?e:i(p),e.appendChild(t);var r=t.getBBox();return e.removeChild(t),r}function u(t){var e=1e5;return Math.abs(t.height)>e||Math.abs(t.width)>e?{height:0,width:0,x:0,y:0}:t}function c(t){return"function"==typeof t.getBBox?u(a(t)):{height:15,width:15,x:2,y:2}}function s(e){var r=h.createElementNS(t.SVGNS,"tspan");return r.appendChild(h.createTextNode(e)),r}function l(t){var e=n.createElement("text",{x:"0",y:"0"});return e.appendChild(s(t)),e}function f(){return c(l("jy9@")).height}function d(t){e.setPrefix(t);var r=h.getElementById(e.get());if(r){var n=h.getElementById(t);n?n.removeChild(r):h.body.removeChild(r)}}var h={},p=e.get("bboxer");return{init:function(t){h=t},removeRenderedSVGFromElement:d,getBBox:c,calculateTextHeight:o.memoize(f),webkitNamespaceBugWorkaround:function(t){return t.replace(/ xlink=/g," xmlns:xlink=","g").replace(/ href=/g," xlink:href=","g")}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";var t="mscgen_js-svg-",e=t;return{setPrefix:function(r){e=t+r},get:function(t){return e+(t||"")}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5),r(4),r(9),r(10)],o=function(t,e,r,n){"use strict";function o(t,e){return t.toString()+","+e.toString()+" "}function i(t,e,r){return t+o(e,r)}function a(t,r,n,o){return c(e.createElement("path",{d:t,"class":r}),n,o)}function u(t,r){return e.createElement("polygon",{points:t,"class":r})}function c(t,r,n){var o="";return n&&(o+="fill:"+n+";"),r&&(o+="stroke:"+r+";"),e.setAttribute(t,"style",o)}function s(t,r){return e.createElement("line",{x1:t.xFrom.toString(),y1:t.yFrom.toString(),x2:t.xTo.toString(),y2:t.yTo.toString(),"class":r?r["class"]:null})}function l(e,r){var n=m.createElementNS(t.SVGNS,"a");return n.setAttributeNS(t.XLINKNS,"xlink:href",e),n.setAttributeNS(t.XLINKNS,"xlink:title",e),n.setAttributeNS(t.XLINKNS,"xlink:show","new"),n.appendChild(r),n}function f(e,r){var n=m.createElementNS(t.SVGNS,"tspan"),o=m.createTextNode(e);return n.appendChild(o),r?l(r,n):n}function d(t,r,o){var i=n.defaults(o,{"class":null,url:null,id:null,idurl:null}),a=e.createElement("text",{x:r.x.toString(),y:r.y.toString(),"class":i["class"]});if(a.appendChild(f(t,i.url)),i.id){var u=f(" ["+i.id+"]",i.idurl);u.setAttribute("style",x),a.appendChild(u)}return a}function h(e,r){var n=0;return r.indexOf("nodi")<0&&(n=e.xTo>e.xFrom?-7.5*t.LINE_WIDTH:7.5*t.LINE_WIDTH),n}function p(e,r){var n=0;return r.indexOf("nodi")<0&&r.indexOf("bidi")>-1&&(n=e.xTo>e.xFrom?7.5*t.LINE_WIDTH:-7.5*t.LINE_WIDTH),n}function g(e,n){var o=t.LINE_WIDTH,u=n?n["class"]:null,c=r.getDirection(e),s=h(e,u),l=p(e,u),f=(e.xTo-e.xFrom+s-l).toString(),d=(e.yTo-e.yFrom).toString(),g=i("l",c.signX,c.dy),b=i("l",f,d);return a(i("M",e.xFrom,e.yFrom-7.5*t.LINE_WIDTH*c.dy)+g+i("M",e.xFrom+l,e.yFrom-o)+b+i("M",e.xFrom+l,e.yFrom+o)+b+i("M",e.xTo-c.signX,e.yTo+7.5*t.LINE_WIDTH*c.dy)+g,u)}function b(t,r,n,o){return e.createElement("marker",{orient:n,id:t,"class":r,viewBox:Boolean(o)?o:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}var m={},x="vertical-align:text-top;";return x+="font-size:0.7em;text-anchor:start;",{init:function(t){m=t,e.init(t)},createSVG:function(r,n){return e.createElement("svg",{version:"1.1",id:r,"class":n,xmlns:t.SVGNS,"xmlns:xlink":t.XLINKNS,width:"0",height:"0"})},createDesc:function(t){return e.createElement("desc",{id:t})},createDefs:function(){return e.createElement("defs")},createRect:function(t,r,n,o){return c(e.createElement("rect",{width:t.width,height:t.height,x:t.x,y:t.y,"class":r}),n,o)},createRBox:function(t,r,n,o){var i=6;return c(e.createElement("rect",{width:t.width,height:t.height,x:t.x,y:t.y,rx:i,ry:i,"class":r}),n,o)},createABox:function(t,e,r,n){var o=3;return a("M"+t.x+","+(t.y+t.height/2)+"l"+o+", -"+t.height/2+"l"+(t.width-2*o)+",0l"+o+","+t.height/2+"l-"+o+","+t.height/2+"l-"+(t.width-2*o)+",0 z",e,r,n)},createNote:function(e,r,n,o){var i=Math.max(9,Math.min(4.5*t.LINE_WIDTH,e.height/2)),u=i.toString(10);return a("M"+e.x+","+e.y+"l"+(e.width-i)+",0 l0,"+u+" l"+u+",0 m-"+u+",-"+u+" l"+u+","+u+" l0,"+(e.height-i)+" l-"+e.width+",0 l0,-"+e.height+" z",r,n,o)},createEdgeRemark:function(t,e,r,n,o){var i=o?o:7;return a("M"+t.x+","+t.y+" l"+t.width+",0  l0,"+(t.height-i)+" l-"+i.toString(10)+","+i.toString(10)+" l-"+(t.width-i)+",0 ",e,r,n)},createText:d,createDiagonalText:function(t,n,o){return e.setAttributes(d(t,{x:n.width/2,y:n.height/2},{"class":o}),{transform:"rotate("+r.getDiagonalAngle(n).toString()+" "+(n.width/2).toString()+" "+(n.height/2).toString()+")"})},createLine:function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?g(t,e):s(t,e)},createUTurn:function(e,r,n,u,c){var s=c?e.x+7.5*t.LINE_WIDTH:e.x;return a(i("M",e.x,-e.y)+i("C",e.x+n,e.y-7.5*t.LINE_WIDTH)+o(e.x+n,r+0)+o(s,r),u)},createGroup:function(t,r){return e.createElement("g",{id:t,"class":r})},createUse:function(r,n){var o=e.createElement("use",{x:r.x.toString(),y:r.y.toString()});return o.setAttributeNS(t.XLINKNS,"xlink:href","#"+n),o},createMarkerPath:function(t,r,n){var o=b(t,"arrow-marker","auto");return o.appendChild(e.setAttributes(a(r,"arrow-style"),{style:"stroke-dasharray:100,1;stroke:"+n||"black"})),o},createMarkerPolygon:function(t,r,n){var o=b(t,"arrow-marker","auto");return o.appendChild(e.setAttributes(u(r,"arrow-style"),{stroke:n||"black",fill:n||"black"})),o}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t){return 360*t/(2*Math.PI)}function e(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function r(t,r){var n=e(t);return n>0?Math.floor(n/r):0}function n(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}function o(t){return Math.round(2*Math.random()*t)-t}function i(t,i,a){if(i<=0)throw new Error("pInterval must be > 0");i=Math.min(e(t),i);for(var u=[],c=r(t,i),s=n(t),l=s.signX*Math.sqrt(Math.pow(i,2)/(1+Math.pow(s.dy,2))),f=s.signY*(Math.abs(s.dy)===1/0?i:Math.sqrt(Math.pow(s.dy,2)*Math.pow(i,2)/(1+Math.pow(s.dy,2)))),d={},h=1;h<=c;h++)d={controlX:t.xFrom+(h-.5)*l+o(a),controlY:t.yFrom+(h-.5)*f+o(a),x:t.xFrom+h*l,y:t.yFrom+h*f},i>e({xFrom:d.x,yFrom:d.y,xTo:t.xTo,yTo:t.yTo})&&(d.x=t.xTo,d.y=t.yTo),u.push(d);return u}return{getDiagonalAngle:function(e){return 0-t(Math.atan(e.height/e.width))},getDirection:n,getLineLength:e,getNumberOfSegments:r,getBetweenPoints:i}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n;(function(t,o){(function(){function i(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function u(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function c(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function l(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function f(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function d(t){return function(e){return t(e)}}function h(t,e){return null==t?Vt:t[e]}function p(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function g(t,e){return function(r){return t(e(r))}}function b(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function m(){}function x(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__=vr?vr(null):{},this.size=0}function y(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function w(t){var e=this.__data__;if(vr){var r=e[t];return r===Yt?Vt:r}return Ze.call(e,t)?e[t]:Vt}function C(t){var e=this.__data__;return vr?e[t]!==Vt:Ze.call(e,t)}function _(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vr&&e===Vt?Yt:e,this}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(){this.__data__=[],this.size=0}function E(t){var e=this.__data__,r=U(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ar.call(e,r,1),--this.size,!0}function L(t){var e=this.__data__,r=U(e,t);return r<0?Vt:e[r][1]}function T(t){return U(this.__data__,t)>-1}function I(t,e){var r=this.__data__,n=U(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function S(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(){this.size=0,this.__data__={hash:new x,map:new(gr||A),string:new x}}function j(t){var e=mt(this,t)["delete"](t);return this.size-=e?1:0,e}function N(t){return mt(this,t).get(t)}function B(t){return mt(this,t).has(t)}function H(t,e){var r=mt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function O(t){var e=this.__data__=new A(t);this.size=e.size}function F(){this.__data__=new A,this.size=0}function W(t){var e=this.__data__,r=e["delete"](t);return this.size=e.size,r}function M(t){return this.__data__.get(t)}function R(t){return this.__data__.has(t)}function z(t,e){var r=this.__data__;if(r instanceof A){var n=r.__data__;if(!gr||n.length<$t-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new S(n)}return r.set(t,e),this.size=r.size,this}function G(t,e){var r=Nr(t),n=!r&&jr(t),o=!r&&!n&&Br(t),i=!r&&!n&&!o&&Hr(t),a=r||n||o||i,u=a?f(t.length,String):[],c=u.length;for(var s in t)!e&&!Ze.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_t(s,c))||u.push(s);return u}function X(t,e,r,n){return t===Vt||Ht(t,Pe[r])&&!Ze.call(n,r)?e:t}function q(t,e,r){var n=t[e];Ze.call(t,e)&&Ht(n,r)&&(r!==Vt||e in t)||V(t,e,r)}function U(t,e){for(var r=t.length;r--;)if(Ht(t[r][0],e))return r;return-1}function P(t,e){return t&&ht(e,zt(e),t)}function V(t,e,r){"__proto__"==e&&cr?cr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function K(t,e,r,n,o,i,a){var u;if(n&&(u=i?n(t,o,i,a):n(t)),u!==Vt)return u;if(!Mt(t))return t;var s=Nr(t);if(s){if(u=vt(t),!e)return dt(t,u)}else{var l=Sr(t),f=l==ae||l==ue;if(Br(t))return ot(t,e);if(l==le||l==ee||f&&!i){if(u=yt(f?{}:t),!e)return pt(t,P(u,t))}else{if(!Be[l])return i?t:{};u=wt(t,l,K,e)}}a||(a=new O);var d=a.get(t);if(d)return d;a.set(t,u);var h=s?Vt:(r?bt:zt)(t);return c(h||t,function(o,i){h&&(i=o,o=t[i]),q(u,i,K(o,e,r,n,i,t,a))}),u}function $(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=Ct),o||(o=[]);++i<a;){var u=t[i];e>0&&r(u)?e>1?$(u,e-1,r,n,o):s(o,u):n||(o[o.length]=u)}return o}function Z(t,e,r){var n=e(t);return Nr(t)?n:s(n,r(t))}function Y(t){return Ye.call(t)}function J(t){return Rt(t)&&Ye.call(t)==ee}function Q(t){if(!Mt(t)||Et(t))return!1;var e=Ft(t)?Je:De;return e.test(Dt(t))}function tt(t){return Rt(t)&&Wt(t.length)&&!!Ne[Ye.call(t)]}function et(t){if(!Lt(t))return fr(t);var e=[];for(var r in Object(t))Ze.call(t,r)&&"constructor"!=r&&e.push(r);return e}function rt(t){if(!Mt(t))return Tt(t);var e=Lt(t),r=[];for(var n in t)("constructor"!=n||!e&&Ze.call(t,n))&&r.push(n);return r}function nt(t,e){return Dr(It(t,e,qt),t+"")}function ot(t,e){if(e)return t.slice();var r=t.length,n=rr?rr(r):new t.constructor(r);return t.copy(n),n}function it(t){var e=new t.constructor(t.byteLength);return new er(e).set(new er(t)),e}function at(t,e){var r=e?it(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function ut(t,e,r){var n=e?r(p(t),!0):p(t);return l(n,i,new t.constructor)}function ct(t){var e=new t.constructor(t.source,Se.exec(t));return e.lastIndex=t.lastIndex,e}function st(t,e,r){var n=e?r(b(t),!0):b(t);return l(n,a,new t.constructor)}function lt(t){return Er?Object(Er.call(t)):{}}function ft(t,e){var r=e?it(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function dt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function ht(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):Vt;c===Vt&&(c=t[u]),o?V(r,u,c):q(r,u,c)}return r}function pt(t,e){return ht(t,Ir(t),e)}function gt(t){return nt(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:Vt,a=o>2?r[2]:Vt;for(i=t.length>3&&"function"==typeof i?(o--,i):Vt,a&&At(r[0],r[1],a)&&(i=o<3?Vt:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e})}function bt(t){return Z(t,zt,Ir)}function mt(t,e){var r=t.__data__;return kt(e)?r["string"==typeof e?"string":"hash"]:r.map}function xt(t,e){var r=h(t,e);return Q(r)?r:Vt}function vt(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&Ze.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function yt(t){return"function"!=typeof t.constructor||Lt(t)?{}:Lr(nr(t))}function wt(t,e,r,n){var o=t.constructor;switch(e){case xe:return it(t);case ne:case oe:return new o((+t));case ve:return at(t,n);case ye:case we:case Ce:case _e:case Ae:case ke:case Ee:case Le:case Te:return ft(t,n);case ce:return ut(t,n,r);case se:case ge:return new o(t);case he:return ct(t);case pe:return st(t,n,r);case be:return lt(t)}}function Ct(t){return Nr(t)||jr(t)||!!(ur&&t&&t[ur])}function _t(t,e){return e=null==e?te:e,!!e&&("number"==typeof t||je.test(t))&&t>-1&&t%1==0&&t<e}function At(t,e,r){if(!Mt(r))return!1;var n=typeof e;return!!("number"==n?Ot(r)&&_t(e,r.length):"string"==n&&e in r)&&Ht(r[e],t)}function kt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Et(t){return!!Ke&&Ke in t}function Lt(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Pe;return t===r}function Tt(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function It(t,e,r){return e=dr(e===Vt?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=dr(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(a),u(t,this,c)}}function St(t){var e=0,r=0;return function(){var n=hr(),o=Qt-(n-r);if(r=n,o>0){if(++e>=Jt)return arguments[0]}else e=0;return t.apply(Vt,arguments)}}function Dt(t){if(null!=t){try{return $e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function jt(t){var e=t?t.length:0;return e?$(t,1):[]}function Nt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Zt);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Nt.Cache||S),r}function Bt(t){return K(t,!0,!0)}function Ht(t,e){return t===e||t!==t&&e!==e}function Ot(t){return null!=t&&Wt(t.length)&&!Ft(t)}function Ft(t){var e=Mt(t)?Ye.call(t):"";return e==ae||e==ue||e==de}function Wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=te}function Mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Rt(t){return null!=t&&"object"==typeof t}function zt(t){return Ot(t)?G(t):et(t)}function Gt(t){return Ot(t)?G(t,!0):rt(t)}function Xt(t){return function(){return t}}function qt(t){return t}function Ut(){return[]}function Pt(){return!1}var Vt,Kt="4.16.4",$t=200,Zt="Expected a function",Yt="__lodash_hash_undefined__",Jt=500,Qt=16,te=9007199254740991,ee="[object Arguments]",re="[object Array]",ne="[object Boolean]",oe="[object Date]",ie="[object Error]",ae="[object Function]",ue="[object GeneratorFunction]",ce="[object Map]",se="[object Number]",le="[object Object]",fe="[object Promise]",de="[object Proxy]",he="[object RegExp]",pe="[object Set]",ge="[object String]",be="[object Symbol]",me="[object WeakMap]",xe="[object ArrayBuffer]",ve="[object DataView]",ye="[object Float32Array]",we="[object Float64Array]",Ce="[object Int8Array]",_e="[object Int16Array]",Ae="[object Int32Array]",ke="[object Uint8Array]",Ee="[object Uint8ClampedArray]",Le="[object Uint16Array]",Te="[object Uint32Array]",Ie=/[\\^$.*+?()[\]{}|]/g,Se=/\w*$/,De=/^\[object .+?Constructor\]$/,je=/^(?:0|[1-9]\d*)$/,Ne={};Ne[ye]=Ne[we]=Ne[Ce]=Ne[_e]=Ne[Ae]=Ne[ke]=Ne[Ee]=Ne[Le]=Ne[Te]=!0,Ne[ee]=Ne[re]=Ne[xe]=Ne[ne]=Ne[ve]=Ne[oe]=Ne[ie]=Ne[ae]=Ne[ce]=Ne[se]=Ne[le]=Ne[he]=Ne[pe]=Ne[ge]=Ne[me]=!1;var Be={};Be[ee]=Be[re]=Be[xe]=Be[ve]=Be[ne]=Be[oe]=Be[ye]=Be[we]=Be[Ce]=Be[_e]=Be[Ae]=Be[ce]=Be[se]=Be[le]=Be[he]=Be[pe]=Be[ge]=Be[be]=Be[ke]=Be[Ee]=Be[Le]=Be[Te]=!0,Be[ie]=Be[ae]=Be[me]=!1;var He="object"==typeof t&&t&&t.Object===Object&&t,Oe="object"==typeof self&&self&&self.Object===Object&&self,Fe=He||Oe||Function("return this")(),We="object"==typeof e&&e&&!e.nodeType&&e,Me=We&&"object"==typeof o&&o&&!o.nodeType&&o,Re=Me&&Me.exports===We,ze=Re&&He.process,Ge=function(){try{return ze&&ze.binding("util")}catch(t){}}(),Xe=Ge&&Ge.isTypedArray,qe=Array.prototype,Ue=Function.prototype,Pe=Object.prototype,Ve=Fe["__core-js_shared__"],Ke=function(){var t=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$e=Ue.toString,Ze=Pe.hasOwnProperty,Ye=Pe.toString,Je=RegExp("^"+$e.call(Ze).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=Re?Fe.Buffer:Vt,tr=Fe.Symbol,er=Fe.Uint8Array,rr=Qe?Qe.allocUnsafe:Vt,nr=g(Object.getPrototypeOf,Object),or=Object.create,ir=Pe.propertyIsEnumerable,ar=qe.splice,ur=tr?tr.isConcatSpreadable:Vt,cr=function(){try{var t=xt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),sr=Object.getOwnPropertySymbols,lr=Qe?Qe.isBuffer:Vt,fr=g(Object.keys,Object),dr=Math.max,hr=Date.now,pr=xt(Fe,"DataView"),gr=xt(Fe,"Map"),br=xt(Fe,"Promise"),mr=xt(Fe,"Set"),xr=xt(Fe,"WeakMap"),vr=xt(Object,"create"),yr=Dt(pr),wr=Dt(gr),Cr=Dt(br),_r=Dt(mr),Ar=Dt(xr),kr=tr?tr.prototype:Vt,Er=kr?kr.valueOf:Vt,Lr=function(){function t(){}return function(e){if(!Mt(e))return{};if(or)return or(e);t.prototype=e;var r=new t;return t.prototype=Vt,r}}();x.prototype.clear=v,x.prototype["delete"]=y,x.prototype.get=w,x.prototype.has=C,x.prototype.set=_,A.prototype.clear=k,A.prototype["delete"]=E,A.prototype.get=L,A.prototype.has=T,A.prototype.set=I,S.prototype.clear=D,S.prototype["delete"]=j,S.prototype.get=N,S.prototype.has=B,S.prototype.set=H,O.prototype.clear=F,O.prototype["delete"]=W,O.prototype.get=M,O.prototype.has=R,O.prototype.set=z;var Tr=cr?function(t,e){return cr(t,"toString",{configurable:!0,enumerable:!1,value:Xt(e),writable:!0})}:qt,Ir=sr?g(sr,Object):Ut,Sr=Y;(pr&&Sr(new pr(new ArrayBuffer(1)))!=ve||gr&&Sr(new gr)!=ce||br&&Sr(br.resolve())!=fe||mr&&Sr(new mr)!=pe||xr&&Sr(new xr)!=me)&&(Sr=function(t){var e=Ye.call(t),r=e==le?t.constructor:Vt,n=r?Dt(r):Vt;if(n)switch(n){case yr:return ve;case wr:return ce;case Cr:return fe;case _r:return pe;case Ar:return me}return e});var Dr=St(Tr);Nt.Cache=S;var jr=J(function(){return arguments}())?J:function(t){return Rt(t)&&Ze.call(t,"callee")&&!ir.call(t,"callee")},Nr=Array.isArray,Br=lr||Pt,Hr=Xe?d(Xe):tt,Or=gt(function(t,e,r,n){ht(e,Gt(e),t,n)}),Fr=nt(function(t){return t.push(Vt,X),u(Or,Vt,t)});m.assignInWith=Or,m.constant=Xt,m.defaults=Fr,m.flatten=jt,m.keys=zt,m.keysIn=Gt,m.memoize=Nt,m.extendWith=Or,m.cloneDeep=Bt,m.eq=Ht,m.identity=qt,m.isArguments=jr,m.isArray=Nr,m.isArrayLike=Ot,m.isBuffer=Br,m.isFunction=Ft,m.isLength=Wt,m.isObject=Mt,m.isObjectLike=Rt,m.isTypedArray=Hr,m.stubArray=Ut,m.stubFalse=Pt,m.VERSION=Kt,Fe._=m,n=function(){return m}.call(e,r,e,o),!(n!==Vt&&(o.exports=n))}).call(this)}).call(e,function(){return this}(),r(11)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{scaleCanvasToWidth:function(t,e){e.scale=t/e.width,e.width*=e.scale,e.height*=e.scale,e.horizontaltransform*=e.scale,e.verticaltransform*=e.scale,e.x=0-e.horizontaltransform,e.y=0-e.verticaltransform},determineDepthCorrection:function(t,e){return t?2*(2*(t+1)*e):0},determineArcXTo:function(t,e,r){return"-x"===t?e+.75*(r-e):r}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(8),r(5),r(14)],o=function(t,e,r){"use strict";function n(e,r){return r.forEach(function(r){"method"===r.type?e.appendChild(t.createMarkerPolygon(r.name,r.path,r.color)):e.appendChild(t.createMarkerPath(r.name,r.path,r.color))}),e}function o(t,e){var r=p.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(p.createTextNode(h(t,e))),r}function i(e,r,i){var a=t.createDefs();return a.appendChild(o(i,e)),a=n(a,r),a.appendChild(t.createGroup(e+"__defs")),a}function a(e){var r=t.createGroup(e+"__body");return r.appendChild(t.createGroup(e+"__background")),r.appendChild(t.createGroup(e+"__arcspanlayer")),r.appendChild(t.createGroup(e+"__lifelinelayer")),r.appendChild(t.createGroup(e+"__sequencelayer")),r.appendChild(t.createGroup(e+"__notelayer")),r.appendChild(t.createGroup(e+"__watermark")),r}function u(e){return t.init(e.document),e.document}function c(e,r,n,o,c){p=u(e);var l=p.getElementById(r);null===l&&(l=p.body);var f=t.createSVG(n,n);return f.appendChild(s(e,n,c.source)),f.appendChild(i(n,o,c)),f.appendChild(a(n)),l.appendChild(f),p}function s(e,r,n){var o=t.createDesc(r+"__msc_source");return Boolean(n)&&o.appendChild(e.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+n)),o}function l(t,e){var n="",o=[];return Boolean(t)?(Boolean(t.additionalTemplate)&&(o=r.namedStyles.filter(function(e){return e.name===t.additionalTemplate}),o.length>0&&(n=o[0][e])),n):""}function f(t){var e=l(t,"cssAfter");return Boolean(t.styleAdditions)&&(e+=t.styleAdditions),e}function d(t){return l(t,"cssBefore")}function h(t,n){return(d(t)+r.baseTemplate+f(t)).replace(/<%=fontSize%>/g,e.FONT_SIZE).replace(/<%=lineWidth%>/g,e.LINE_WIDTH).replace(/<%=id%>/g,n)}var p={};return{bootstrap:c,init:u}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>;color:black}.<%=id%> path, .<%=id%> rect{fill:none;color:black;stroke:black}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{stroke:black}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.entity-text{text-decoration:underline}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2;}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{stroke:black;color:black;fill:black;font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[{name:"lazy",description:"Lazy",experimental:!1,cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;text-decoration:none;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen (experimental!)",experimental:!0,cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:black}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!1,cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"Pgasse (best with msgenny)",experimental:!1,cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"}]}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(16),r(17),r(10),r(18)],o=function(t,e,r,n){"use strict";function o(t){"undefined"==typeof t.label&&(t.label=t.name)}function i(t){Boolean(t.label)&&(t.label=n.unescapeString(t.label)),Boolean(t.id)&&(t.id=n.unescapeString(t.id))}function a(t){t.label=Boolean(t.label)?t.label:""}function u(t){if(t.kind&&e.getNormalizedKind(t.kind)!==t.kind){t.kind=e.getNormalizedKind(t.kind);var r=t.from;t.from=t.to,t.to=r}return t}function c(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function s(t,e){if(t&&t.from){var r=e.filter(function(e){return e.name===t.from});r.length>0&&c(t,r[0])}}function l(t){return t.arcs.reduce(function(t,e){return t+(Boolean(e[0].arcs)?l(e[0])+1:0)},t.arcs.length)}function f(t,n,o,i){var a=[],u=[],s=[];return t.forEach(function(t){if("inline_expression"===e.getAggregate(t.kind)){if(t.depth=n,Boolean(t.arcs)){var a=r.cloneDeep(t);a.numberofrows=l(a),delete a.arcs,u.push(a),t.arcs.forEach(function(t){s=s.concat(f(t,n+1,a.from,a.to)),t.forEach(function(t){c(t,a)})}),n>g&&(g=n)}else u.push(t);s.push([{kind:"|||",from:t.from,to:t.to}])}else o&&i&&"emptyarc"===e.getAggregate(t.kind)&&(t.from=o,t.to=i,t.depth=n),u.push(t)}),a.push(u),a.concat(s)}function d(t){var e={};return g=0,Boolean(t.options)&&(e.options=r.cloneDeep(t.options)),Boolean(t.entities)&&(e.entities=r.cloneDeep(t.entities)),e.arcs=[],t&&t.arcs&&t.arcs.forEach(function(t){f(t,0).forEach(function(t){e.arcs.push(t)})}),e.depth=g+1,e}function h(t,e){return t.filter(function(t){return e.from!==t.name}).map(function(t){return e.to=t.name,r.cloneDeep(e)})}function p(t){if(t.entities&&t.arcs){var e=[],n={};t.arcs.forEach(function(o,i){o.filter(function(t){return"*"===t.to}).forEach(function(a,u){n=r.cloneDeep(a),delete t.arcs[i][u],e=h(t.entities,n),o[u]=e.shift(),t.arcs[i]=o.concat(e)})})}return t}var g=0;return{swapRTLArc:u,unwind:d,explodeBroadcasts:p,flatten:function(e){return t.transform(d(e),[o,i],[u,s,i,a])},dotFlatten:function(e){return p(t.transform(e,[o],[u,s]))}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){
var n,o;n=[],o=function(){"use strict";function t(t,e){t&&e&&t.forEach(function(t){e.forEach(function(e){e(t)})})}function e(t,e,r,n){n&&n.forEach(function(n){n(r,t,e)})}function r(t,r,o){r.forEach(function(i){e(t,r,i,o),i.arcs&&n(t,i.arcs,o)})}function n(t,e,n){t&&e&&n&&e.forEach(function(e){r(t,e,n)})}return{transform:function(e,r,o){return t(e.entities,r),n(e.entities,e.arcs,o),e}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";var t={"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"},e={box:"box",abox:"hexagon",rbox:"box",note:"note"},r={">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"},n={"|||":"emptyarc","...":"emptyarc","---":"emptyarc","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression","else":"inline_expression",opt:"inline_expression","break":"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"},o={"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"},i={"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"},a={"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression","else":"inline_expression",opt:"inline_expression","break":"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"};return{getArrow:function(e){return t[e]},getShape:function(t){return e[t]},getStyle:function(t){return r[t]},getAggregate:function(t){return n[t]},getClass:function(t){return i[t]||t},getAggregateClass:function(t){return a[t]||t},getNormalizedKind:function(t){return o[t]||t}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{wrap:function(t,e){for(var r=0,n=[],o=0,i=0,a=0,u=0,c=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");u<=c.length;)u>=c.length?n.push(c.substring(o,u)):"\n"===c[u]?(r=0,a=u,n.push(c.substring(o,a)),o=a+1):r++>=e&&(a=c.substring(0,u).lastIndexOf(" "),a===-1||a<o?(r=1,a=u,i=u):(r=0,i=a+1),n.push(c.substring(o,a)),o=i),u++;return n},unescapeString:function(t){return t.replace(/\\"/g,'"')},escapeString:function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(10),r(17)],o=function(t,e){"use strict";function r(t,e,r){return e&&r&&["<->","->"].indexOf(t)>-1?e<r?"signal":"signal-u":""}function n(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function o(t,e,o,i,a){var u=[];return s[e]&&s[e].attributes&&(u=s[e].attributes.map(function(u){return{name:u.name,value:u.value.replace(/\{\{signal-marker-end\}\}/g,r(e,i,a)).replace(/\{\{signal-marker-start\}\}/g,n(e,i,a)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,o||"black")}})),u}function i(t,r){return s[e.getNormalizedKind(t)].marker.name+(Boolean(r)?" "+r:" black")}function a(t,r){function n(e){a(t,e)}return Array.isArray(r)&&r.forEach(n),r.arcs&&r.arcs.forEach(n),r.kind&&s[e.getNormalizedKind(r.kind)]&&s[e.getNormalizedKind(r.kind)].marker&&t.indexOf(i(r.kind,r.linecolor))<0&&t.push(i(r.kind,r.linecolor)),t}function u(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}function c(t){return t.arcs.reduce(a,[]).sort().map(u)}var s={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},l={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};return{getAttributes:o,getMarkerDefs:function(e,r){return t.flatten(c(r).map(function(t){return l[t.kind].variants.map(function(r){return{name:e+t.kind+r.name+"-"+t.color,path:r.path,color:t.color,type:t.kind}})}))}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(21),r(5)],o=function(t,e){"use strict";function r(t){return u[t]}var n=160,o=100,i=34,a={interEntitySpacing:n,height:i,width:o},u={};return{init:function(t){a.interEntitySpacing=n,a.height=i,a.width=o,t&&(a.interEntitySpacing=t*n,a.width=t*o),u={}},getX:r,setX:function(t,e){u[t.name]=e+a.width/2},getOAndD:function(t,e){return{from:r(r(t)<r(e)?t:e),to:r(r(e)>r(t)?e:t)}},setHeight:function(t){a.height=t},getDims:function(){return a},getNoEntityLines:function(r){return t.splitLabel(r,"box",a.width,e.FONT_SIZE).length}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(8),r(6),r(5),r(18),r(17)],o=function(t,e,r,n,o){"use strict";function i(t,e){e&&t.setAttribute("style","fill:"+e+";")}function a(t,e,r){i(t,e&&!r?"blue":r)}function u(r,n){var o=t.createRect(e.getBBox(r),"label-text-background");return n&&o.setAttribute("style","fill:"+n+"; stroke:"+n+";"),o}function c(e,r,n,o,i,a){var u={};return u=0===e?t.createText(r,{x:n,y:o},{"class":i,url:a.url,id:a.id,idurl:a.idurl}):t.createText(r,{x:n,y:o},{"class":i,url:a.url})}function s(t,e,r){var n=e||t,i=o.getClass(n),a=o.getAggregateClass(n);return i===a?i+r:a+r+i+r}function l(t,n,o,u,l,f){var d=o+(l+.25)*e.calculateTextHeight(),h="";h=s(u.kind,f&&f.kind,"-text "),f&&(f.alignLeft&&(h+="anchor-start "),f.alignAround&&(d=o+(l+.25)*(e.calculateTextHeight()+r.LINE_WIDTH)));var p=c(l,t,n,d,h,u);return i(p,u.textcolor),a(p,u.url,u.textcolor),p}function f(n,o,i,a){var c=t.createGroup(a);if(n.label){var s=o.x+o.width/2,f=h(n.label,n.kind,o.width,r.FONT_SIZE,!!i&&i.wordWrapArcs),d={};i&&i.alignAbove&&f.forEach(function(){f.push("")});var p=o.y-(f.length-1)/2*(e.calculateTextHeight()+1);i&&i.alignAround&&(1===f.length&&f.push(""),p=o.y-(f.length-1)/2*(e.calculateTextHeight()+r.LINE_WIDTH+1)),f.forEach(function(t,e){""!==t&&(d=l(t,s,p,n,e,i),i&&i.ownBackground&&c.appendChild(u(d,n.textbgcolor)),c.appendChild(d)),p++})}return c}function d(t,e){var r=Math.abs(t),n=12;return r<=160?r/(e/n*8):r<=320?r/(e/n*6.4):r<=480?r/(e/n*5.9):r/(e/n*5.6)}function h(t,e,r,i,a){return"box"===o.getAggregate(e)||"undefined"==typeof e||a?n.wrap(t,d(r,i)):t.split("\\n")}return{createLabel:f,splitLabel:h}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t){return e[t]?e[t]:{y:r+1.5*n+t*n,height:n}}var e=[],r=0,n=0;return{clear:function(t,o){e=[],r=t,n=o},get:t,getLast:function(){return t(e.length-1)},set:function(r,n){var o=t(r-1);e[r]={y:o.y+(o.height+n)/2,height:n}}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t,e,r){return t.pathname+"?lang="+r+"&msc="+encodeURIComponent(e)}function e(e,n,o){return t(e,n,o).length<r}var r=4094;return{toLocationString:function(r,n,o){var i="# source too long for an URL";return e(r,n,o)&&(i=n),t(r,i,o)}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t,e){Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]})}var e={defaultLanguage:"mscgen",parentElementPrefix:"mscgen_js-parent_",clickable:!1,clickURL:"https://sverweij.github.io/mscgen_js/",loadFromSrcAttribute:!1};return{getConfig:function(){return"undefined"!=typeof mscgen_js_config&&mscgen_js_config&&"object"==typeof mscgen_js_config&&t(e,mscgen_js_config),e}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(26)],o=function(t){"use strict";function e(t,e){for(var r=t.toString(),n=e-r.length,o=0;o<n;o++)r=" "+r;return r}function r(t,r){return e(r,3)+" "+t}function n(e,r){return e.split("").reduce(function(e,n,i){return i===r?e+t.applyTemplate(c,{"char":o(n)}):e+o(n)},"")}function o(t){return t.replace(/</g,"&lt;")}var i="<pre><div style='color: #d00'># ERROR on line {line}, column {col} - {message}</div>",a="<pre><div style='color: #d00'># ERROR {message}</div>",u="<mark>{line}\n</mark>",c="<span style='text-decoration:underline'>{char}</span>";return{formatNumber:e,deHTMLize:o,renderError:function(e,c,s){var l=Boolean(c)?t.applyTemplate(i,{message:s,line:c.start.line,col:c.start.column}):t.applyTemplate(a,{message:s});return e.split("\n").reduce(function(e,i,a){return c&&a===c.start.line-1?e+t.applyTemplate(u,{line:r(n(i,c.start.column-1),a+1)}):e+o(r(i,a+1))+"\n"},l)+"</pre>"}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{applyTemplate:function(t,e){var r=t;return e&&Object.keys(e).forEach(function(t){r=r.replace(new RegExp("{"+t+"}","g"),e[t])}),r}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{ajax:function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(t){t.target.readyState===XMLHttpRequest.DONE&&(200===n.status?e(t):r(t))},n.open("GET",t),n.responseType="text";try{n.send()}catch(o){r(o)}}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}]);